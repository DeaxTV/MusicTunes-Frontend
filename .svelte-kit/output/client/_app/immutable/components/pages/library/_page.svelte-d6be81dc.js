import { S as Se, i as Ve, s as Me, k as h, a as V, q as C, au as _t, l as p, m as _, h as f, c as M, r as A, av as bt, n as d, $ as We, b as R, I as r, L as ae, u as pe, B as O, _ as gt, a6 as yt, w as ne, x as re, y as ie, a7 as It, a8 as kt, a9 as $t, f as H, g as ge, t as Y, d as ye, z as oe, P as ut, e as ke, N as Et, at as Dt, F as je, Y as Ne, D as Te, o as wt, A as Nt, aw as Pt, a1 as dt, J as Ue, M as St, ax as mt, p as ht, ay as pt, ao as Vt } from "../../../chunks/index-02d4e276.js"; import { H as Ze, o as be, I as Mt } from "../../../chunks/window-19724ee6.js"; import { M as Tt, C as Ct } from "../../../chunks/CreatePlaylist-eb49ef3a.js"; import { I as Ie } from "../../../chunks/Icon-53721fee.js"; import { L as At } from "../../../chunks/Listing-bba24f27.js"; import { s as _e } from "../../../chunks/PopperButton-b3b94d20.js"; import { g as Zt } from "../../../chunks/navigation-8392efd7.js"; import { _ as Gt } from "../../../chunks/preload-helper-41c905a7.js"; import { f as Pe } from "../../../chunks/index-52d97329.js"; import { s as Ge, g as Rt, a as Lt, b as Bt } from "../../../chunks/db-88e45f9d.js"; import { B as Qe } from "../../../chunks/Button-485c194b.js"; import { L as Ht } from "../../../chunks/Loading-becb9104.js"; function qe(a) { var t, n, c, l, o, i; let e = ((n = (t = a[0]) == null ? void 0 : t.items) == null ? void 0 : n.length) === 1 ? "1 Song" : ((l = (c = a[0]) == null ? void 0 : c.items) == null ? void 0 : l.length) === 0 ? "No tracks" : `${(i = (o = a[0]) == null ? void 0 : o.items) == null ? void 0 : i.length} Songs`, s; return { c() { s = C(e) }, l(u) { s = A(u, e) }, m(u, m) { R(u, s, m) }, p(u, m) { var b, I, D, y, k, P; m & 1 && e !== (e = ((I = (b = u[0]) == null ? void 0 : b.items) == null ? void 0 : I.length) === 1 ? "1 Song" : ((y = (D = u[0]) == null ? void 0 : D.items) == null ? void 0 : y.length) === 0 ? "No tracks" : `${(P = (k = u[0]) == null ? void 0 : k.items) == null ? void 0 : P.length} Songs`) && pe(s, e) }, d(u) { u && f(s) } } } function Ot(a) { var G; let e, s, t, n, c, l, o, i = a[0].name + "", u, m, b, I, D = (G = a[0]) != null && G.description ? a[0].description + " &bull; " : "", y, k, P, g = a[0].items !== void 0 && qe(a); return { c() { e = h("article"), s = h("div"), t = h("img"), c = V(), l = h("div"), o = h("div"), u = C(i), m = V(), b = h("div"), I = new _t(!1), y = V(), g && g.c(), this.h() }, l(v) { e = p(v, "ARTICLE", { class: !0 }); var w = _(e); s = p(w, "DIV", { class: !0 }); var T = _(s); t = p(T, "IMG", { width: !0, height: !0, loading: !0, src: !0, alt: !0, class: !0 }), T.forEach(f), c = M(w), l = p(w, "DIV", { class: !0 }); var $ = _(l); o = p($, "DIV", { class: !0 }); var E = _(o); u = A(E, i), E.forEach(f), m = M($), b = p($, "DIV", { class: !0 }); var Z = _(b); I = bt(Z, !1), y = M(Z), g && g.l(Z), Z.forEach(f), $.forEach(f), w.forEach(f), this.h() }, h() { d(t, "width", "200"), d(t, "height", "200"), d(t, "loading", "lazy"), We(t.src, n = a[0].thumbnail) || d(t, "src", n), d(t, "alt", "thumbnail"), d(t, "class", "svelte-d73wqm"), d(s, "class", "img svelte-d73wqm"), d(o, "class", "item-title svelte-d73wqm"), I.a = y, d(b, "class", "item-description svelte-d73wqm"), d(l, "class", "item-text svelte-d73wqm"), d(e, "class", "item svelte-d73wqm") }, m(v, w) { R(v, e, w), r(e, s), r(s, t), r(e, c), r(e, l), r(l, o), r(o, u), r(l, m), r(l, b), I.m(D, b), r(b, y), g && g.m(b, null), k || (P = ae(e, "click", a[1]), k = !0) }, p(v, [w]) { var T; w & 1 && !We(t.src, n = v[0].thumbnail) && d(t, "src", n), w & 1 && i !== (i = v[0].name + "") && pe(u, i), w & 1 && D !== (D = (T = v[0]) != null && T.description ? v[0].description + " &bull; " : "") && I.p(D), v[0].items !== void 0 ? g ? g.p(v, w) : (g = qe(v), g.c(), g.m(b, null)) : g && (g.d(1), g = null) }, i: O, o: O, d(v) { v && f(e), g && g.d(), k = !1, P() } } } function zt(a, e, s) { let { item: t } = e; function n(c) { gt.call(this, a, c) } return a.$$set = c => { "item" in c && s(0, t = c.item) }, [t, n] } class vt extends Se { constructor(e) { super(), Ve(this, e, zt, Ot, Me, { item: 0 }) } } function Ke(a, e, s) { const t = a.slice(); return t[7] = e[s], t[9] = s, t } const Yt = a => ({}), xe = a => ({}); function et(a) { let e = [], s = new Map, t, n, c = a[0]; const l = o => o[7]; for (let o = 0; o < c.length; o += 1) { let i = Ke(a, c, o), u = l(i); s.set(u, e[o] = tt(u, i)) } return { c() { for (let o = 0; o < e.length; o += 1)e[o].c(); t = ke() }, l(o) { for (let i = 0; i < e.length; i += 1)e[i].l(o); t = ke() }, m(o, i) { for (let u = 0; u < e.length; u += 1)e[u].m(o, i); R(o, t, i), n = !0 }, p(o, i) { i & 1 && (c = o[0], ge(), e = Et(e, i, l, 1, o, c, s, t.parentNode, Dt, tt, t, Ke), ye()) }, i(o) { if (!n) { for (let i = 0; i < c.length; i += 1)H(e[i]); n = !0 } }, o(o) { for (let i = 0; i < e.length; i += 1)Y(e[i]); n = !1 }, d(o) { for (let i = 0; i < e.length; i += 1)e[i].d(o); o && f(t) } } } function tt(a, e) { let s, t, n; function c() { return e[5](e[7]) } return t = new vt({ props: { item: e[7] } }), t.$on("click", c), { key: a, first: null, c() { s = ke(), ne(t.$$.fragment), this.h() }, l(l) { s = ke(), re(t.$$.fragment, l), this.h() }, h() { this.first = s }, m(l, o) { R(l, s, o), ie(t, l, o), n = !0 }, p(l, o) { e = l; const i = {}; o & 1 && (i.item = e[7]), t.$set(i) }, i(l) { n || (H(t.$$.fragment, l), n = !0) }, o(l) { Y(t.$$.fragment, l), n = !1 }, d(l) { l && f(s), oe(t, l) } } } function Ft(a) { let e, s, t, n, c, l, o, i, u, m; const b = a[4].buttons, I = yt(b, a, a[3], xe); let D = a[0].length > 0 && et(a); return u = new vt({ props: { item: { thumbnail: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48cGF0aCBkPSJNMTI0LjA0IDkyaDcuOTJ2MzIuMDRIMTY0djcuOTJoLTMyLjA0VjE2NGgtNy45MnYtMzIuMDRIOTJ2LTcuOTJoMzIuMDRWOTJ6IiBmaWxsPSIjZmFmYWZhIi8+PC9nPjwvc3ZnPg==", name: "Add New Playlist" } } }), u.$on("click", a[6]), { c() { e = h("div"), s = h("div"), t = h("span"), n = C(a[1]), c = V(), I && I.c(), l = V(), o = h("div"), D && D.c(), i = V(), ne(u.$$.fragment), this.h() }, l(y) { e = p(y, "DIV", { class: !0 }); var k = _(e); s = p(k, "DIV", { class: !0 }); var P = _(s); t = p(P, "SPAN", { class: !0 }); var g = _(t); n = A(g, a[1]), g.forEach(f), c = M(P), I && I.l(P), P.forEach(f), l = M(k), o = p(k, "DIV", { class: !0 }); var G = _(o); D && D.l(G), i = M(G), re(u.$$.fragment, G), G.forEach(f), k.forEach(f), this.h() }, h() { d(t, "class", "h2 svelte-t505r3"), d(s, "class", "header svelte-t505r3"), d(o, "class", "grid svelte-t505r3"), d(e, "class", "grid-container") }, m(y, k) { R(y, e, k), r(e, s), r(s, t), r(t, n), r(s, c), I && I.m(s, null), r(e, l), r(e, o), D && D.m(o, null), r(o, i), ie(u, o, null), m = !0 }, p(y, [k]) { (!m || k & 2) && pe(n, y[1]), I && I.p && (!m || k & 8) && It(I, b, y, y[3], m ? $t(b, y[3], k, Yt) : kt(y[3]), xe), y[0].length > 0 ? D ? (D.p(y, k), k & 1 && H(D, 1)) : (D = et(y), D.c(), H(D, 1), D.m(o, i)) : D && (ge(), Y(D, 1, 1, () => { D = null }), ye()) }, i(y) { m || (H(I, y), H(D), H(u.$$.fragment, y), m = !0) }, o(y) { Y(I, y), Y(D), Y(u.$$.fragment, y), m = !1 }, d(y) { y && f(e), I && I.d(y), D && D.d(), oe(u) } } } function Jt(a, e, s) { let { $$slots: t = {}, $$scope: n } = e, { items: c = [] } = e, { heading: l = "" } = e; const o = ut(), i = m => Zt("/library/playlists/" + m.id), u = () => o("new_playlist"); return a.$$set = m => { "items" in m && s(0, c = m.items), "heading" in m && s(1, l = m.heading), "$$scope" in m && s(3, n = m.$$scope) }, [c, l, o, n, t, i, u] } class Xt extends Se { constructor(e) { super(), Ve(this, e, Jt, Ft, Me, { items: 0, heading: 1 }) } } function st(a, e, s) { const t = a.slice(); return t[33] = e[s], t } function Wt(a) { let e; function s(c, l) { return c[0] === "sending" ? Kt : qt } let t = s(a), n = t(a); return { c() { e = h("div"), n.c(), this.h() }, l(c) { e = p(c, "DIV", { class: !0 }); var l = _(e); n.l(l), l.forEach(f), this.h() }, h() { d(e, "class", "screen svelte-1mtbpfm") }, m(c, l) { R(c, e, l), n.m(e, null) }, p(c, l) { t === (t = s(c)) && n ? n.p(c, l) : (n.d(1), n = t(c), n && (n.c(), n.m(e, null))) }, i: O, o: O, d(c) { c && f(e), n.d() } } } function jt(a) { let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k, P, g, G, v, w, T, $, E, Z, N, S, L, F, x, J, te; return { c() { e = h("div"), s = h("div"), t = h("h1"), n = C("Generate Your ID"), c = V(), l = h("div"), o = C("The temporary ID is needed for syncing"), i = V(), u = h("hr"), m = V(), b = h("section"), I = h("div"), D = h("p"), y = C("Your ID:"), k = V(), P = h("div"), g = h("code"), G = C(a[1]), v = V(), w = h("p"), T = C(a[3]), $ = V(), E = h("button"), Z = C("Create ID"), N = V(), S = h("div"), L = h("button"), F = C("Next Step"), this.h() }, l(X) { e = p(X, "DIV", { class: !0 }); var Q = _(e); s = p(Q, "DIV", { class: !0 }); var K = _(s); t = p(K, "H1", { class: !0 }); var W = _(t); n = A(W, "Generate Your ID"), W.forEach(f), c = M(K), l = p(K, "DIV", { class: !0 }); var q = _(l); o = A(q, "The temporary ID is needed for syncing"), q.forEach(f), i = M(K), u = p(K, "HR", { class: !0 }), m = M(K), b = p(K, "SECTION", { class: !0 }); var U = _(b); I = p(U, "DIV", { class: !0 }); var ee = _(I); D = p(ee, "P", { class: !0 }); var B = _(D); y = A(B, "Your ID:"), B.forEach(f), k = M(ee), P = p(ee, "DIV", { class: !0 }); var z = _(P); g = p(z, "CODE", { class: !0 }); var ue = _(g); G = A(ue, a[1]), ue.forEach(f), v = M(z), w = p(z, "P", { class: !0 }); var de = _(w); T = A(de, a[3]), de.forEach(f), z.forEach(f), ee.forEach(f), $ = M(U), E = p(U, "BUTTON", { class: !0 }); var fe = _(E); Z = A(fe, "Create ID"), fe.forEach(f), U.forEach(f), K.forEach(f), Q.forEach(f), N = M(X), S = p(X, "DIV", { class: !0 }); var ce = _(S); L = p(ce, "BUTTON", { class: !0 }); var ve = _(L); F = A(ve, "Next Step"), ve.forEach(f), ce.forEach(f), this.h() }, h() { d(t, "class", "svelte-1mtbpfm"), d(l, "class", "subheading svelte-1mtbpfm"), d(u, "class", "svelte-1mtbpfm"), d(D, "class", "svelte-1mtbpfm"), d(g, "class", "svelte-1mtbpfm"), d(w, "class", "copy link svelte-1mtbpfm"), d(P, "class", "id-cont svelte-1mtbpfm"), d(I, "class", "id svelte-1mtbpfm"), d(E, "class", "small"), d(b, "class", "container"), d(s, "class", "content svelte-1mtbpfm"), d(e, "class", "screen svelte-1mtbpfm"), d(L, "class", "nextbtn svelte-1mtbpfm"), L.disabled = x = a[1] === "unset", d(S, "class", "next svelte-1mtbpfm") }, m(X, Q) { R(X, e, Q), r(e, s), r(s, t), r(t, n), r(s, c), r(s, l), r(l, o), r(s, i), r(s, u), r(s, m), r(s, b), r(b, I), r(I, D), r(D, y), r(I, k), r(I, P), r(P, g), r(g, G), r(P, v), r(P, w), r(w, T), r(b, $), r(b, E), r(E, Z), R(X, N, Q), R(X, S, Q), r(S, L), r(L, F), J || (te = [ae(w, "click", a[20]), ae(E, "click", a[21]), ae(L, "click", a[22])], J = !0) }, p(X, Q) { Q[0] & 2 && pe(G, X[1]), Q[0] & 8 && pe(T, X[3]), Q[0] & 2 && x !== (x = X[1] === "unset") && (L.disabled = x) }, i: O, o: O, d(X) { X && f(e), X && f(N), X && f(S), J = !1, Te(te) } } } function Ut(a) { let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k, P, g, G, v, w, T, $, E, Z, N, S, L, F, x, J, te, X, Q, K, W, q, U, ee, B, z, ue, de, fe, ce, ve; $ = new Ie({ props: { name: "send", size: "2em" } }), X = new Ie({ props: { name: "import", size: "2em" } }); let se = a[0] === "sending" && lt(a); return { c() { e = h("div"), s = h("div"), t = h("h1"), n = C("First things first..."), c = V(), l = h("div"), o = C("Will this device be "), i = h("em"), u = C("sending"), m = C(" or "), b = h("em"), I = C("receiving"), D = C(" data?"), y = V(), k = h("section"), P = h("div"), g = h("label"), G = h("input"), w = V(), T = h("span"), ne($.$$.fragment), E = h("span"), Z = C("Sending"), N = V(), S = h("div"), L = h("label"), F = h("input"), J = V(), te = h("span"), ne(X.$$.fragment), Q = h("span"), K = C("Receiving"), W = V(), q = h("hr"), U = V(), se && se.c(), ee = V(), B = h("div"), z = h("button"), ue = C("Next Step"), this.h() }, l(j) { e = p(j, "DIV", { class: !0 }); var le = _(e); s = p(le, "DIV", { class: !0 }); var me = _(s); t = p(me, "H1", { class: !0 }); var $e = _(t); n = A($e, "First things first..."), $e.forEach(f), c = M(me), l = p(me, "DIV", { class: !0 }); var he = _(l); o = A(he, "Will this device be "), i = p(he, "EM", {}); var Be = _(i); u = A(Be, "sending"), Be.forEach(f), m = A(he, " or "), b = p(he, "EM", {}); var He = _(b); I = A(He, "receiving"), He.forEach(f), D = A(he, " data?"), he.forEach(f), y = M(me), k = p(me, "SECTION", { class: !0 }); var Ee = _(k); P = p(Ee, "DIV", { class: !0 }); var Oe = _(P); g = p(Oe, "LABEL", { for: !0 }); var De = _(g); G = p(De, "INPUT", { id: !0, type: !0, class: !0 }), w = M(De), T = p(De, "SPAN", { class: !0 }); var Ce = _(T); re($.$$.fragment, Ce), E = p(Ce, "SPAN", { class: !0 }); var ze = _(E); Z = A(ze, "Sending"), ze.forEach(f), Ce.forEach(f), De.forEach(f), Oe.forEach(f), N = M(Ee), S = p(Ee, "DIV", { class: !0 }); var Ye = _(S); L = p(Ye, "LABEL", { for: !0 }); var we = _(L); F = p(we, "INPUT", { id: !0, type: !0, class: !0 }), J = M(we), te = p(we, "SPAN", { class: !0 }); var Ae = _(te); re(X.$$.fragment, Ae), Q = p(Ae, "SPAN", { class: !0 }); var Fe = _(Q); K = A(Fe, "Receiving"), Fe.forEach(f), Ae.forEach(f), we.forEach(f), Ye.forEach(f), Ee.forEach(f), me.forEach(f), W = M(le), q = p(le, "HR", { class: !0 }), U = M(le), se && se.l(le), le.forEach(f), ee = M(j), B = p(j, "DIV", { class: !0 }); var Je = _(B); z = p(Je, "BUTTON", { class: !0 }); var Xe = _(z); ue = A(Xe, "Next Step"), Xe.forEach(f), Je.forEach(f), this.h() }, h() { d(t, "class", "svelte-1mtbpfm"), d(l, "class", "subheading svelte-1mtbpfm"), d(G, "id", "sending"), d(G, "type", "checkbox"), G.checked = v = a[0] === "sending", d(G, "class", "svelte-1mtbpfm"), d(E, "class", "label svelte-1mtbpfm"), d(T, "class", "checkbox-tile svelte-1mtbpfm"), d(g, "for", "sending"), d(P, "class", "radio svelte-1mtbpfm"), d(F, "id", "receiving"), d(F, "type", "checkbox"), F.checked = x = a[0] === "receiving", d(F, "class", "svelte-1mtbpfm"), d(Q, "class", "label svelte-1mtbpfm"), d(te, "class", "checkbox-tile svelte-1mtbpfm"), d(L, "for", "receiving"), d(S, "class", "radio svelte-1mtbpfm"), d(k, "class", "container row justify svelte-1mtbpfm"), d(s, "class", "content svelte-1mtbpfm"), d(q, "class", "svelte-1mtbpfm"), d(e, "class", "screen svelte-1mtbpfm"), d(z, "class", "nextbtn svelte-1mtbpfm"), z.disabled = de = a[0] === "sending" ? a[0] === "sending" && a[6].length === 0 : a[0] === void 0, d(B, "class", "next svelte-1mtbpfm") }, m(j, le) { R(j, e, le), r(e, s), r(s, t), r(t, n), r(s, c), r(s, l), r(l, o), r(l, i), r(i, u), r(l, m), r(l, b), r(b, I), r(l, D), r(s, y), r(s, k), r(k, P), r(P, g), r(g, G), r(g, w), r(g, T), ie($, T, null), r(T, E), r(E, Z), r(k, N), r(k, S), r(S, L), r(L, F), r(L, J), r(L, te), ie(X, te, null), r(te, Q), r(Q, K), r(e, W), r(e, q), r(e, U), se && se.m(e, null), R(j, ee, le), R(j, B, le), r(B, z), r(z, ue), fe = !0, ce || (ve = [ae(G, "input", a[15]), ae(F, "input", a[16]), ae(z, "click", a[19])], ce = !0) }, p(j, le) { (!fe || le[0] & 1 && v !== (v = j[0] === "sending")) && (G.checked = v), (!fe || le[0] & 1 && x !== (x = j[0] === "receiving")) && (F.checked = x), j[0] === "sending" ? se ? se.p(j, le) : (se = lt(j), se.c(), se.m(e, null)) : se && (se.d(1), se = null), (!fe || le[0] & 65 && de !== (de = j[0] === "sending" ? j[0] === "sending" && j[6].length === 0 : j[0] === void 0)) && (z.disabled = de) }, i(j) { fe || (H($.$$.fragment, j), H(X.$$.fragment, j), fe = !0) }, o(j) { Y($.$$.fragment, j), Y(X.$$.fragment, j), fe = !1 }, d(j) { j && f(e), oe($), oe(X), se && se.d(), j && f(ee), j && f(B), ce = !1, Te(ve) } } } function Qt(a) {
	let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k, P, g, G; return {
		c() {
			e = h("div"), s = h("div"), t = h("h1"), n = C("Sync your data"), c = V(), l = h("div"), o = C("Access your favorites on any device"), i = V(), u = h("p"), m = C("Securely sync your data across your devices! "), b = h("br"), I = C(` To begin, open this screen on another device. Whenever
							you are ready, hit 'Next Step'`), D = V(), y = h("div"), k = h("button"), P = C("Next Step"), this.h()
		}, l(v) {
			e = p(v, "DIV", { class: !0 }); var w = _(e); s = p(w, "DIV", { class: !0 }); var T = _(s); t = p(T, "H1", { class: !0 }); var $ = _(t); n = A($, "Sync your data"), $.forEach(f), c = M(T), l = p(T, "DIV", { class: !0 }); var E = _(l); o = A(E, "Access your favorites on any device"), E.forEach(f), i = M(T), u = p(T, "P", { class: !0 }); var Z = _(u); m = A(Z, "Securely sync your data across your devices! "), b = p(Z, "BR", {}), I = A(Z, ` To begin, open this screen on another device. Whenever
							you are ready, hit 'Next Step'`), Z.forEach(f), T.forEach(f), w.forEach(f), D = M(v), y = p(v, "DIV", { class: !0 }); var N = _(y); k = p(N, "BUTTON", { class: !0 }); var S = _(k); P = A(S, "Next Step"), S.forEach(f), N.forEach(f), this.h()
		}, h() { d(t, "class", "svelte-1mtbpfm"), d(l, "class", "subheading svelte-1mtbpfm"), d(u, "class", "svelte-1mtbpfm"), d(s, "class", "content svelte-1mtbpfm"), d(e, "class", "screen svelte-1mtbpfm"), d(k, "class", "nextbtn svelte-1mtbpfm"), d(y, "class", "next svelte-1mtbpfm") }, m(v, w) { R(v, e, w), r(e, s), r(s, t), r(t, n), r(s, c), r(s, l), r(l, o), r(s, i), r(s, u), r(u, m), r(u, b), r(u, I), R(v, D, w), R(v, y, w), r(y, k), r(k, P), g || (G = ae(k, "click", a[10]), g = !0) }, p: O, i: O, o: O, d(v) { v && f(e), v && f(D), v && f(y), g = !1, G() }
	}
} function qt(a) { let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k; return { c() { e = h("div"), s = h("h1"), t = C("Ready to Receive Data"), n = V(), c = h("span"), l = C("Your ID: "), o = h("div"), i = h("code"), u = C(a[1]), m = V(), b = h("div"), I = C("Waiting for sender to connect."), D = V(), y = h("p"), k = C("Once data transfer is completed, this popup window will close automatically"), this.h() }, l(P) { e = p(P, "DIV", { class: !0 }); var g = _(e); s = p(g, "H1", { class: !0 }); var G = _(s); t = A(G, "Ready to Receive Data"), G.forEach(f), n = M(g), c = p(g, "SPAN", {}); var v = _(c); l = A(v, "Your ID: "), o = p(v, "DIV", { class: !0 }); var w = _(o); i = p(w, "CODE", { class: !0 }); var T = _(i); u = A(T, a[1]), T.forEach(f), w.forEach(f), v.forEach(f), m = M(g), b = p(g, "DIV", { class: !0 }); var $ = _(b); I = A($, "Waiting for sender to connect."), $.forEach(f), D = M(g), y = p(g, "P", { class: !0 }); var E = _(y); k = A(E, "Once data transfer is completed, this popup window will close automatically"), E.forEach(f), g.forEach(f), this.h() }, h() { d(s, "class", "svelte-1mtbpfm"), d(i, "class", "svelte-1mtbpfm"), d(o, "class", "id-cont svelte-1mtbpfm"), d(b, "class", "subheading svelte-1mtbpfm"), d(y, "class", "svelte-1mtbpfm"), d(e, "class", "content svelte-1mtbpfm") }, m(P, g) { R(P, e, g), r(e, s), r(s, t), r(e, n), r(e, c), r(c, l), r(c, o), r(o, i), r(i, u), r(e, m), r(e, b), r(b, I), r(e, D), r(e, y), r(y, k) }, p(P, g) { g[0] & 2 && pe(u, P[1]) }, d(P) { P && f(e) } } } function Kt(a) { let e, s, t, n = a[4] = a[0] !== "sending" ? "Sender" : "Receiver", c, l, o, i, u, m, b, I, D, y, k, P, g, G, v, w, T, $, E, Z, N = a[4] = a[0] !== "sending" ? "Sender" : "Receiver", S, L, F, x, J, te, X, Q, K, W, q, U, ee; return { c() { e = h("div"), s = h("h1"), t = C("Get the "), c = C(n), l = C("'s ID"), o = V(), i = h("div"), u = C("Let's find the other device"), m = V(), b = h("p"), I = C("After generating an ID for both devices, enter the other's ID in the field below."), D = V(), y = h("hr"), k = V(), P = h("div"), g = h("p"), G = C("Your ID:"), v = V(), w = h("div"), T = h("code"), $ = C(a[1]), E = V(), Z = h("p"), S = C(N), L = C("'s ID:"), F = V(), x = h("div"), J = h("input"), X = V(), Q = h("div"), K = h("button"), W = C("Connect"), this.h() }, l(B) { e = p(B, "DIV", { class: !0 }); var z = _(e); s = p(z, "H1", { class: !0 }); var ue = _(s); t = A(ue, "Get the "), c = A(ue, n), l = A(ue, "'s ID"), ue.forEach(f), o = M(z), i = p(z, "DIV", { class: !0 }); var de = _(i); u = A(de, "Let's find the other device"), de.forEach(f), m = M(z), b = p(z, "P", { class: !0 }); var fe = _(b); I = A(fe, "After generating an ID for both devices, enter the other's ID in the field below."), fe.forEach(f), D = M(z), y = p(z, "HR", { class: !0 }), k = M(z), P = p(z, "DIV", { class: !0 }); var ce = _(P); g = p(ce, "P", { class: !0 }); var ve = _(g); G = A(ve, "Your ID:"), ve.forEach(f), v = M(ce), w = p(ce, "DIV", { class: !0 }); var se = _(w); T = p(se, "CODE", { class: !0 }); var j = _(T); $ = A(j, a[1]), j.forEach(f), se.forEach(f), E = M(ce), Z = p(ce, "P", { class: !0 }); var le = _(Z); S = A(le, N), L = A(le, "'s ID:"), le.forEach(f), F = M(ce), x = p(ce, "DIV", { class: !0 }); var me = _(x); J = p(me, "INPUT", { class: !0, placeholder: !0, type: !0, autocapitalize: !0, autocomplete: !0, autocorrect: !0, spellcheck: !0, pattern: !0 }), me.forEach(f), ce.forEach(f), z.forEach(f), X = M(B), Q = p(B, "DIV", { class: !0 }); var $e = _(Q); K = p($e, "BUTTON", { class: !0 }); var he = _(K); W = A(he, "Connect"), he.forEach(f), $e.forEach(f), this.h() }, h() { d(s, "class", "svelte-1mtbpfm"), d(i, "class", "subheading svelte-1mtbpfm"), d(b, "class", "svelte-1mtbpfm"), d(y, "class", "svelte-1mtbpfm"), d(g, "class", "svelte-1mtbpfm"), d(T, "class", "svelte-1mtbpfm"), d(w, "class", "id-cont svelte-1mtbpfm"), d(Z, "class", "svelte-1mtbpfm"), d(J, "class", "input svelte-1mtbpfm"), d(J, "placeholder", te = `${a[4]}'s ID`), d(J, "type", "text"), d(J, "autocapitalize", "off"), d(J, "autocomplete", "off"), d(J, "autocorrect", "off"), d(J, "spellcheck", "false"), d(J, "pattern", "bb?[a-zA-Z0-9_-]+"), d(x, "class", "id-cont svelte-1mtbpfm"), d(P, "class", "id svelte-1mtbpfm"), d(e, "class", "content svelte-1mtbpfm"), d(K, "class", "nextBtn"), K.disabled = q = a[2].length < 1, d(Q, "class", "next svelte-1mtbpfm") }, m(B, z) { R(B, e, z), r(e, s), r(s, t), r(s, c), r(s, l), r(e, o), r(e, i), r(i, u), r(e, m), r(e, b), r(b, I), r(e, D), r(e, y), r(e, k), r(e, P), r(P, g), r(g, G), r(P, v), r(P, w), r(w, T), r(T, $), r(P, E), r(P, Z), r(Z, S), r(Z, L), r(P, F), r(P, x), r(x, J), Ue(J, a[2]), R(B, X, z), R(B, Q, z), r(Q, K), r(K, W), U || (ee = [ae(J, "submit", St(a[23])), ae(J, "input", a[24]), ae(K, "click", a[25])], U = !0) }, p(B, z) { z[0] & 17 && n !== (n = B[4] = B[0] !== "sending" ? "Sender" : "Receiver") && pe(c, n), z[0] & 2 && pe($, B[1]), z[0] & 17 && N !== (N = B[4] = B[0] !== "sending" ? "Sender" : "Receiver") && pe(S, N), z[0] & 16 && te !== (te = `${B[4]}'s ID`) && d(J, "placeholder", te), z[0] & 4 && J.value !== B[2] && Ue(J, B[2]), z[0] & 4 && q !== (q = B[2].length < 1) && (K.disabled = q) }, d(B) { B && f(e), B && f(X), B && f(Q), U = !1, Te(ee) } } } function lt(a) { let e, s, t, n, c, l = a[7], o = []; for (let i = 0; i < l.length; i += 1)o[i] = at(st(a, l, i)); return { c() { e = h("div"), s = h("span"), t = C("What kind of data would you like to send?"), n = V(), c = h("div"); for (let i = 0; i < o.length; i += 1)o[i].c(); this.h() }, l(i) { e = p(i, "DIV", { class: !0 }); var u = _(e); s = p(u, "SPAN", { class: !0 }); var m = _(s); t = A(m, "What kind of data would you like to send?"), m.forEach(f), n = M(u), c = p(u, "DIV", { class: !0 }); var b = _(c); for (let I = 0; I < o.length; I += 1)o[I].l(b); b.forEach(f), u.forEach(f), this.h() }, h() { d(s, "class", "subheading svelte-1mtbpfm"), d(c, "class", "container"), d(e, "class", "content svelte-1mtbpfm") }, m(i, u) { R(i, e, u), r(e, s), r(s, t), r(e, n), r(e, c); for (let m = 0; m < o.length; m += 1)o[m].m(c, null) }, p(i, u) { if (u[0] & 192) { l = i[7]; let m; for (m = 0; m < l.length; m += 1) { const b = st(i, l, m); o[m] ? o[m].p(b, u) : (o[m] = at(b), o[m].c(), o[m].m(c, null)) } for (; m < o.length; m += 1)o[m].d(1); o.length = l.length } }, d(i) { i && f(e), dt(o, i) } } } function at(a) { let e, s = a[33] + "", t, n, c, l, o, i; return { c() { e = h("label"), t = C(s), n = V(), c = h("input"), l = V(), this.h() }, l(u) { e = p(u, "LABEL", { class: !0 }); var m = _(e); t = A(m, s), n = M(m), c = p(m, "INPUT", { type: !0, name: !0, class: !0 }), l = M(m), m.forEach(f), this.h() }, h() { d(c, "type", "checkbox"), c.__value = a[33], c.value = c.__value, d(c, "name", "dataType"), d(c, "class", "svelte-1mtbpfm"), a[18][0].push(c), d(e, "class", "svelte-1mtbpfm") }, m(u, m) { R(u, e, m), r(e, t), r(e, n), r(e, c), c.checked = ~a[6].indexOf(c.__value), r(e, l), o || (i = ae(c, "change", a[17]), o = !0) }, p(u, m) { m[0] & 64 && (c.checked = ~u[6].indexOf(c.__value)) }, d(u) { u && f(e), a[18][0].splice(a[18][0].indexOf(c), 1), o = !1, i() } } } function xt(a) { let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k; o = new Ie({ props: { name: "x", size: "1.5rem" } }); const P = [Qt, Ut, jt, Wt], g = []; function G(v, w) { return v[5] === 0 ? 0 : v[5] === 1 ? 1 : v[5] === 2 ? 2 : v[5] === 3 ? 3 : -1 } return ~(m = G(a)) && (b = g[m] = P[m](a)), { c() { e = h("div"), t = V(), n = h("div"), c = h("div"), l = h("div"), ne(o.$$.fragment), i = V(), u = h("div"), b && b.c(), this.h() }, l(v) { e = p(v, "DIV", { class: !0 }), _(e).forEach(f), t = M(v), n = p(v, "DIV", { class: !0 }); var w = _(n); c = p(w, "DIV", { class: !0 }); var T = _(c); l = p(T, "DIV", { class: !0 }); var $ = _(l); re(o.$$.fragment, $), $.forEach(f), i = M(T), u = p(T, "DIV", { class: !0, id: !0 }); var E = _(u); b && b.l(E), E.forEach(f), T.forEach(f), w.forEach(f), this.h() }, h() { d(e, "class", "backdrop svelte-1mtbpfm"), d(l, "class", "x-button svelte-1mtbpfm"), d(u, "class", "screen-wrapper svelte-1mtbpfm"), d(u, "id", "sWrapper"), d(c, "class", "sync svelte-1mtbpfm"), d(n, "class", "sync-wrapper svelte-1mtbpfm") }, m(v, w) { R(v, e, w), R(v, t, w), R(v, n, w), r(n, c), r(c, l), ie(o, l, null), r(c, i), r(c, u), ~m && g[m].m(u, null), D = !0, y || (k = [ae(window, "keydown", a[12]), ae(e, "click", a[13]), ae(l, "click", a[14])], y = !0) }, p(v, w) { let T = m; m = G(v), m === T ? ~m && g[m].p(v, w) : (b && (ge(), Y(g[T], 1, 1, () => { g[T] = null }), ye()), ~m ? (b = g[m], b ? b.p(v, w) : (b = g[m] = P[m](v), b.c()), H(b, 1), b.m(u, null)) : b = null) }, i(v) { D || (je(() => { s || (s = Ne(e, Pe, { duration: 150, delay: 150 }, !0)), s.run(1) }), H(o.$$.fragment, v), H(b), je(() => { I || (I = Ne(c, Pe, { duration: 300, delay: 300 }, !0)), I.run(1) }), D = !0) }, o(v) { s || (s = Ne(e, Pe, { duration: 150, delay: 150 }, !1)), s.run(0), Y(o.$$.fragment, v), Y(b), I || (I = Ne(c, Pe, { duration: 300, delay: 300 }, !1)), I.run(0), D = !1 }, d(v) { v && f(e), v && s && s.end(), v && f(t), v && f(n), oe(o), ~m && g[m].d(), v && I && I.end(), y = !1, Te(k) } } } let Re, Le; Le = Gt(() => import("../../../chunks/bundler-b36eb39b.js"), [], import.meta.url), Le.then(a => { Re = a.default }); function es(a, e, s) { let t, n, c, l = "unset", o = "", i = "copy", u, m, b = 0, I; const D = ["Playlists", "Favorites"]; let y = D; const k = ut(), P = { Playlists: async () => { const q = await [...await _e.sendMessage("get", "playlists")], U = q; if (q.length !== 0) return [...U] }, Favorites: async () => { const q = await [...await _e.sendMessage("get", "favorites")], U = q; if (q.length !== 0) return [...U] } }, g = W => { if (W.length !== 0) return Promise.all([...W.map(q => P[q]().then(U => U).then(U => ({ type: q, items: U })))]) }, G = () => { if (!(!I && !Ze)) return s(1, l = "bb-" + Math.random().toString(36).substr(2, 7)), c = new I(l), console.log(`Peer ${l} created!`), t || (console.log(c), c.on("connection", W => { console.log(W), W.on("data", async q => { n = { data: q, conn: W }, console.log(n); const U = JSON.parse(q); Array.isArray(U) && (U.forEach(async ee => { if ((ee == null ? void 0 : ee.type) === "Playlists") { const B = ee; await Ge([...B == null ? void 0 : B.items]) } if ((ee == null ? void 0 : ee.type) === "Favorites") { const B = ee; await Ge([...B == null ? void 0 : B.items]) } }), console.log(U)), be("Data sync completed!", "success"), setTimeout(() => { }, 1250), await Nt(), W.close(), c.destroy(), k("close") }), W.on("open", () => { be("Connection established!", "success") }) })), "bb-" + l }, v = () => { b === 3 ? k("close") : s(5, b++, b) }; async function w() { if (t) { const W = await g(y), q = await JSON.stringify(W); console.log(W, q); const U = c.connect(o); U.on("open", () => { U.send(q) }), U.on("data", ee => { }), U.on("close", () => { c.destroy(), k("close") }) } } wt(() => (async () => { Re ? I = Re : I = (await Le).default })()); function T(W) { (W.key === "Esc" || W.key === "Escape") && (W.preventDefault(), k("close")), W.defaultPrevented } const $ = [[]], E = () => k("close"), Z = () => { k("close") }, N = () => s(0, u = "sending"), S = () => s(0, u = "receiving"); function L() { y = Pt($[0], this.__value, this.checked), s(6, y) } const F = () => { u !== void 0 && v() }, x = async () => { await navigator.clipboard.writeText(l), s(3, i = "copied!"), setTimeout(() => { s(3, i = "copy") }, 1500) }, J = async () => { G() }, te = () => { l !== "unset" && v() }, X = async () => { w() }; function Q() { o = this.value, s(2, o) } const K = () => { w() }; return a.$$.update = () => { a.$$.dirty[0] & 1 && s(4, m = u === "sending" ? "Sender" : "Receiver"), a.$$.dirty[0] & 1 && (t = u === "sending") }, n = void 0, [u, l, o, i, m, b, y, D, k, G, v, w, T, E, Z, N, S, L, $, F, x, J, te, X, Q, K] } class ts extends Se { constructor(e) { super(), Ve(this, e, es, xt, Me, {}, null, [-1, -1]) } } const ss = typeof globalThis < "u"; async function ls() { if (ss) try { const a = {}, [e, s] = await Promise.all([Rt(), Lt()]); a.favorites = s.data ?? void 0, a.playlists = e.data ?? void 0; const t = new Blob([JSON.stringify(a)], { type: "application/json" }), n = `MusicTunes-db${Mt(9, "normal")}.json`, c = URL.createObjectURL(t), l = document.createElement("a"); l.setAttribute("href", c), l.download = n, document.body.appendChild(l), l.click(), document.body.removeChild(l), URL.revokeObjectURL(c), be(`Successfully exported your data with the file name: ${n}`, "success") } catch (a) { be("Error exporting data: " + a, "error") } } async function as(a) { try { const e = await a.text(), s = JSON.parse(e); if (!s.favorites && !s.playlists) throw new Error("Provided file is not a valid DB JSON object"); await Promise.allSettled([Ge(s == null ? void 0 : s.playlists), Bt(s == null ? void 0 : s.favorites)]).then(() => { be("Successfully imported database from JSON", "success") }).catch(t => { be("Error importing data: " + t, "error") }) } catch (e) { be("Error importing data: " + e, "error") } } function nt(a) { a[4] = a[22].favorites, a[5] = a[22].playlists } function rt(a, e, s) { const t = a.slice(); return t[24] = e[s], t } function it(a) { let e, s; return e = new ts({}), e.$on("close", a[9]), { c() { ne(e.$$.fragment) }, l(t) { re(e.$$.fragment, t) }, m(t, n) { ie(e, t, n), s = !0 }, p: O, i(t) { s || (H(e.$$.fragment, t), s = !0) }, o(t) { Y(e.$$.fragment, t), s = !1 }, d(t) { oe(e, t) } } } function ot(a) { let e, s; return e = new Tt({ props: { zIndex: 500, hasFocus: a[3], $$slots: { header: [rs], default: [ns] }, $$scope: { ctx: a } } }), e.$on("close", a[11]), { c() { ne(e.$$.fragment) }, l(t) { re(e.$$.fragment, t) }, m(t, n) { ie(e, t, n), s = !0 }, p(t, n) { const c = {}; n & 8 && (c.hasFocus = t[3]), n & 134217729 && (c.$$scope = { dirty: n, ctx: t }), e.$set(c) }, i(t) { s || (H(e.$$.fragment, t), s = !0) }, o(t) { Y(e.$$.fragment, t), s = !1 }, d(t) { oe(e, t) } } } function ns(a) { let e, s, t, n, c, l, o; return { c() { e = h("div"), s = h("input"), t = V(), n = h("p"), c = C("Import your data using the form above!"), this.h() }, l(i) { e = p(i, "DIV", { class: !0 }); var u = _(e); s = p(u, "INPUT", { type: !0, name: !0, id: !0, accept: !0 }), t = M(u), n = p(u, "P", {}); var m = _(n); c = A(m, "Import your data using the form above!"), m.forEach(f), u.forEach(f), this.h() }, h() { d(s, "type", "file"), d(s, "name", "import"), d(s, "id", "import"), d(s, "accept", ".json"), d(e, "class", "container") }, m(i, u) { R(i, e, u), r(e, s), r(e, t), r(e, n), r(n, c), l || (o = ae(s, "change", a[10]), l = !0) }, p: O, d(i) { i && f(e), l = !1, o() } } } function rs(a) { let e, s; return { c() { e = h("h1"), s = C("Import your data"), this.h() }, l(t) { e = p(t, "H1", { slot: !0 }); var n = _(e); s = A(n, "Import your data"), n.forEach(f), this.h() }, h() { d(e, "slot", "header") }, m(t, n) { R(t, e, n), r(e, s) }, p: O, d(t) { t && f(e) } } } function is(a) { let e, s, t, n, c; return e = new Ie({ props: { name: "upload", size: "1.1em" } }), { c() { ne(e.$$.fragment), s = V(), t = h("span"), n = C("Export Data"), this.h() }, l(l) { re(e.$$.fragment, l), s = M(l), t = p(l, "SPAN", { class: !0 }); var o = _(t); n = A(o, "Export Data"), o.forEach(f), this.h() }, h() { d(t, "class", "btn-text") }, m(l, o) { ie(e, l, o), R(l, s, o), R(l, t, o), r(t, n), c = !0 }, p: O, i(l) { c || (H(e.$$.fragment, l), c = !0) }, o(l) { Y(e.$$.fragment, l), c = !1 }, d(l) { oe(e, l), l && f(s), l && f(t) } } } function os(a) { let e, s, t, n, c; return e = new Ie({ props: { name: "download", size: "1.1em" } }), { c() { ne(e.$$.fragment), s = V(), t = h("span"), n = C("Import Data"), this.h() }, l(l) { re(e.$$.fragment, l), s = M(l), t = p(l, "SPAN", { class: !0 }); var o = _(t); n = A(o, "Import Data"), o.forEach(f), this.h() }, h() { d(t, "class", "btn-text") }, m(l, o) { ie(e, l, o), R(l, s, o), R(l, t, o), r(t, n), c = !0 }, p: O, i(l) { c || (H(e.$$.fragment, l), c = !0) }, o(l) { Y(e.$$.fragment, l), c = !1 }, d(l) { oe(e, l), l && f(s), l && f(t) } } } function cs(a) { return { c: O, l: O, m: O, p: O, i: O, o: O, d: O } } function fs(a) { var T; nt(a); let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k = ((T = a[4]) == null ? void 0 : T.length) > 0 && us(); const P = [ms, ds], g = []; function G($, E) { var Z; return ((Z = $[4]) == null ? void 0 : Z.length) > 0 ? 0 : 1 } u = G(a), m = g[u] = P[u](a); let v = a[2] && ft(a), w = { ctx: a, current: null, token: null, hasCatch: !0, pending: _s, then: ps, catch: hs, value: 4, error: 23, blocks: [, , ,] }; return mt(a[5], w), { c() { e = h("section"), s = h("div"), t = h("h2"), n = C("Your Songs"), c = V(), l = h("a"), k && k.c(), o = V(), i = h("div"), m.c(), b = V(), v && v.c(), I = V(), D = h("section"), w.block.c(), this.h() }, l($) { e = p($, "SECTION", { class: !0 }); var E = _(e); s = p(E, "DIV", { class: !0 }); var Z = _(s); t = p(Z, "H2", {}); var N = _(t); n = A(N, "Your Songs"), N.forEach(f), c = M(Z), l = p(Z, "A", { href: !0 }); var S = _(l); k && k.l(S), S.forEach(f), Z.forEach(f), o = M(E), i = p(E, "DIV", { class: !0 }); var L = _(i); m.l(L), L.forEach(f), E.forEach(f), b = M($), v && v.l($), I = M($), D = p($, "SECTION", { class: !0 }); var F = _(D); w.block.l(F), F.forEach(f), this.h() }, h() { d(l, "href", "/library/songs"), d(s, "class", "header"), d(i, "class", "list svelte-m75o52"), d(e, "class", "svelte-m75o52"), d(D, "class", "svelte-m75o52") }, m($, E) { R($, e, E), r(e, s), r(s, t), r(t, n), r(s, c), r(s, l), k && k.m(l, null), r(e, o), r(e, i), g[u].m(i, null), R($, b, E), v && v.m($, E), R($, I, E), R($, D, E), w.block.m(D, w.anchor = null), w.mount = () => D, w.anchor = null, y = !0 }, p($, E) { a = $, nt(a), m.p(a, E), a[2] ? v ? (v.p(a, E), E & 4 && H(v, 1)) : (v = ft(a), v.c(), H(v, 1), v.m(I.parentNode, I)) : v && (ge(), Y(v, 1, 1, () => { v = null }), ye()), pt(w, a, E) }, i($) { y || (H(m), H(v), H(w.block), y = !0) }, o($) { Y(m), Y(v); for (let E = 0; E < 3; E += 1) { const Z = w.blocks[E]; Y(Z) } y = !1 }, d($) { $ && f(e), k && k.d(), g[u].d(), $ && f(b), v && v.d($), $ && f(I), $ && f(D), w.block.d(), w.token = null, w = null } } } function us(a) { let e, s; return { c() { e = h("small"), s = C("See All") }, l(t) { e = p(t, "SMALL", {}); var n = _(e); s = A(n, "See All"), n.forEach(f) }, m(t, n) { R(t, e, n), r(e, s) }, d(t) { t && f(e) } } } function ds(a) { let e, s, t, n, c, l, o; return { c() { e = h("div"), s = h("h4"), t = C("Empty!"), n = V(), c = h("span"), l = h("em"), o = C("Add some songs to keep track of what you love!"), this.h() }, l(i) { e = p(i, "DIV", { class: !0 }); var u = _(e); s = p(u, "H4", {}); var m = _(s); t = A(m, "Empty!"), m.forEach(f), n = M(u), c = p(u, "SPAN", { class: !0 }); var b = _(c); l = p(b, "EM", {}); var I = _(l); o = A(I, "Add some songs to keep track of what you love!"), I.forEach(f), b.forEach(f), u.forEach(f), this.h() }, h() { d(c, "class", "subheading"), d(e, "class", "container") }, m(i, u) { R(i, e, u), r(e, s), r(s, t), r(e, n), r(e, c), r(c, l), r(l, o) }, p: O, i: O, o: O, d(i) { i && f(e) } } } function ms(a) { let e, s, t = a[4], n = []; for (let l = 0; l < t.length; l += 1)n[l] = ct(rt(a, t, l)); const c = l => Y(n[l], 1, 1, () => { n[l] = null }); return { c() { for (let l = 0; l < n.length; l += 1)n[l].c(); e = ke() }, l(l) { for (let o = 0; o < n.length; o += 1)n[o].l(l); e = ke() }, m(l, o) { for (let i = 0; i < n.length; i += 1)n[i].m(l, o); R(l, e, o), s = !0 }, p(l, o) { if (o & 320) { t = l[4]; let i; for (i = 0; i < t.length; i += 1) { const u = rt(l, t, i); n[i] ? (n[i].p(u, o), H(n[i], 1)) : (n[i] = ct(u), n[i].c(), H(n[i], 1), n[i].m(e.parentNode, e)) } for (ge(), i = t.length; i < n.length; i += 1)c(i); ye() } }, i(l) { if (!s) { for (let o = 0; o < t.length; o += 1)H(n[o]); s = !0 } }, o(l) { n = n.filter(Boolean); for (let o = 0; o < n.length; o += 1)Y(n[o]); s = !1 }, d(l) { dt(n, l), l && f(e) } } } function ct(a) { let e, s; return e = new At({ props: { data: a[24] } }), e.$on("update", a[15]), { c() { ne(e.$$.fragment) }, l(t) { re(e.$$.fragment, t) }, m(t, n) { ie(e, t, n), s = !0 }, p: O, i(t) { s || (H(e.$$.fragment, t), s = !0) }, o(t) { Y(e.$$.fragment, t), s = !1 }, d(t) { oe(e, t) } } } function ft(a) { let e, s; return e = new Ct({ props: { defaults: { description: void 0, name: void 0, thumbnail: void 0 }, hasFocus: !0 } }), e.$on("submit", a[16]), e.$on("close", a[17]), { c() { ne(e.$$.fragment) }, l(t) { re(e.$$.fragment, t) }, m(t, n) { ie(e, t, n), s = !0 }, p: O, i(t) { s || (H(e.$$.fragment, t), s = !0) }, o(t) { Y(e.$$.fragment, t), s = !1 }, d(t) { oe(e, t) } } } function hs(a) { let e = a[23] + "", s; return { c() { s = C(e) }, l(t) { s = A(t, e) }, m(t, n) { R(t, s, n) }, p: O, i: O, o: O, d(t) { t && f(s) } } } function ps(a) { let e, s; return e = new Xt({ props: { heading: "Your Playlists", items: a[5], $$slots: { buttons: [vs] }, $$scope: { ctx: a } } }), e.$on("new_playlist", a[19]), { c() { ne(e.$$.fragment) }, l(t) { re(e.$$.fragment, t) }, m(t, n) { ie(e, t, n), s = !0 }, p(t, n) { const c = {}; n & 134217728 && (c.$$scope = { dirty: n, ctx: t }), e.$set(c) }, i(t) { s || (H(e.$$.fragment, t), s = !0) }, o(t) { Y(e.$$.fragment, t), s = !1 }, d(t) { oe(e, t) } } } function vs(a) { let e, s, t, n, c, l, o; return s = new Ie({ props: { name: "x", size: "1.1em" } }), { c() { e = h("button"), ne(s.$$.fragment), t = h("span"), n = C("Delete All Playlists"), this.h() }, l(i) { e = p(i, "BUTTON", { slot: !0, class: !0, style: !0 }); var u = _(e); re(s.$$.fragment, u), t = p(u, "SPAN", { class: !0 }); var m = _(t); n = A(m, "Delete All Playlists"), m.forEach(f), u.forEach(f), this.h() }, h() { d(t, "class", "btn-text"), d(e, "slot", "buttons"), d(e, "class", "outlined svelte-m75o52"), ht(e, "margin-top", "0.75em") }, m(i, u) { R(i, e, u), ie(s, e, null), r(e, t), r(t, n), c = !0, l || (o = ae(e, "click", a[18]), l = !0) }, p: O, i(i) { c || (H(s.$$.fragment, i), c = !0) }, o(i) { Y(s.$$.fragment, i), c = !1 }, d(i) { i && f(e), oe(s), l = !1, o() } } } function _s(a) { return { c: O, l: O, m: O, p: O, i: O, o: O, d: O } } function bs(a) { let e, s, t, n, c, l, o; return t = new Ht({ props: { size: "3em" } }), { c() { e = h("div"), s = h("div"), ne(t.$$.fragment), n = V(), c = h("p"), l = C("Please wait..."), this.h() }, l(i) { e = p(i, "DIV", { class: !0 }); var u = _(e); s = p(u, "DIV", { class: !0 }); var m = _(s); re(t.$$.fragment, m), m.forEach(f), n = M(u), c = p(u, "P", {}); var b = _(c); l = A(b, "Please wait..."), b.forEach(f), u.forEach(f), this.h() }, h() { d(s, "class", "loader svelte-m75o52"), d(e, "class", "loading svelte-m75o52") }, m(i, u) { R(i, e, u), r(e, s), ie(t, s, null), r(e, n), r(e, c), r(c, l), o = !0 }, p: O, i(i) { o || (H(t.$$.fragment, i), o = !0) }, o(i) { Y(t.$$.fragment, i), o = !1 }, d(i) { i && f(e), oe(t) } } } function gs(a) { let e, s, t, n, c, l, o, i, u, m, b, I, D, y, k, P, g, G, v, w, T, $ = a[1] && Ze && it(a), E = a[3] && ot(a); u = new Ie({ props: { name: "send", size: "1.1em" } }), k = new Qe({ props: { outlined: !0, $$slots: { default: [is] }, $$scope: { ctx: a } } }), k.$on("click", a[13]), g = new Qe({ props: { outlined: !0, $$slots: { default: [os] }, $$scope: { ctx: a } } }), g.$on("click", a[14]); let Z = { ctx: a, current: null, token: null, hasCatch: !1, pending: bs, then: fs, catch: cs, value: 22, blocks: [, , ,] }; return mt(a[8], Z), { c() { $ && $.c(), e = V(), E && E.c(), s = V(), t = h("main"), n = h("header"), c = h("h1"), l = C("Your Library"), o = V(), i = h("button"), ne(u.$$.fragment), m = V(), b = h("span"), I = C("Sync Your Data"), D = V(), y = h("div"), ne(k.$$.fragment), P = V(), ne(g.$$.fragment), G = V(), Z.block.c(), this.h() }, l(N) { $ && $.l(N), e = M(N), E && E.l(N), s = M(N), t = p(N, "MAIN", { class: !0 }); var S = _(t); n = p(S, "HEADER", { class: !0 }); var L = _(n); c = p(L, "H1", {}); var F = _(c); l = A(F, "Your Library"), F.forEach(f), o = M(L), i = p(L, "BUTTON", { class: !0 }); var x = _(i); re(u.$$.fragment, x), m = M(x), b = p(x, "SPAN", { class: !0 }); var J = _(b); I = A(J, "Sync Your Data"), J.forEach(f), x.forEach(f), D = M(L), y = p(L, "DIV", { style: !0 }); var te = _(y); re(k.$$.fragment, te), P = M(te), re(g.$$.fragment, te), te.forEach(f), L.forEach(f), G = M(S), Z.block.l(S), S.forEach(f), this.h() }, h() { d(b, "class", "btn-text"), d(i, "class", "svelte-m75o52"), ht(y, "margin-block-start", "0.5em"), d(n, "class", "svelte-m75o52"), d(t, "class", "resp-content-width svelte-m75o52") }, m(N, S) { $ && $.m(N, S), R(N, e, S), E && E.m(N, S), R(N, s, S), R(N, t, S), r(t, n), r(n, c), r(c, l), r(n, o), r(n, i), ie(u, i, null), r(i, m), r(i, b), r(b, I), r(n, D), r(n, y), ie(k, y, null), r(y, P), ie(g, y, null), r(t, G), Z.block.m(t, Z.anchor = null), Z.mount = () => t, Z.anchor = null, v = !0, w || (T = ae(i, "click", a[12]), w = !0) }, p(N, [S]) { a = N, a[1] && Ze ? $ ? ($.p(a, S), S & 2 && H($, 1)) : ($ = it(a), $.c(), H($, 1), $.m(e.parentNode, e)) : $ && (ge(), Y($, 1, 1, () => { $ = null }), ye()), a[3] ? E ? (E.p(a, S), S & 8 && H(E, 1)) : (E = ot(a), E.c(), H(E, 1), E.m(s.parentNode, s)) : E && (ge(), Y(E, 1, 1, () => { E = null }), ye()); const L = {}; S & 134217728 && (L.$$scope = { dirty: S, ctx: a }), k.$set(L); const F = {}; S & 134217728 && (F.$$scope = { dirty: S, ctx: a }), g.$set(F), pt(Z, a, S) }, i(N) { v || (H($), H(E), H(u.$$.fragment, N), H(k.$$.fragment, N), H(g.$$.fragment, N), H(Z.block), v = !0) }, o(N) { Y($), Y(E), Y(u.$$.fragment, N), Y(k.$$.fragment, N), Y(g.$$.fragment, N); for (let S = 0; S < 3; S += 1) { const L = Z.blocks[S]; Y(L) } v = !1 }, d(N) { $ && $.d(N), N && f(e), E && E.d(N), N && f(s), N && f(t), oe(u), oe(k), oe(g), Z.block.d(), Z.token = null, Z = null, w = !1, T() } } } function ys(a, e, s) { let t, n, c, l, o, i; Vt("library", { isLibrary: !0 }); const u = async () => (s(4, t = await _e.sendMessage("get", "favorites")), s(4, t = [...t.slice(0, 5)]), t), m = async () => (s(5, n = await _e.sendMessage("get", "playlists")), s(5, n = [...n]), n), b = N => { N && as(N[0]).then(() => { u(), m() }) }; let I = D(); async function D() { try { const [N, S] = await Promise.all([_e.sendMessage("get", "playlists"), _e.sendMessage("get", "favorites")]); return s(4, t = S.length !== 0 && [...S.slice(0, 5)]), s(5, n = N.length !== 0 && [...N]), console.log(N, S), { favorites: t, playlists: n } } catch (N) { console.error(N) } } const y = () => { u(), m(), s(1, c = !1) }; function k() { i = this.files, s(0, i) } const P = () => { s(3, o = !1) }, g = () => { s(1, c = !0) }, G = async () => { try { ls() } catch (N) { console.error(N) } }, v = () => { s(3, o = !0) }, w = () => { u() }, T = async N => { var S, L, F; await _e.sendMessage("create", "playlist", { name: (S = N.detail) == null ? void 0 : S.title, description: (L = N.detail) == null ? void 0 : L.description, thumbnail: ((F = N.detail) == null ? void 0 : F.thumbnail) ?? "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJpc29sYXRpb246aXNvbGF0ZSIgdmlld0JveD0iMCAwIDI1NiAyNTYiIHdpZHRoPSIyNTZwdCIgaGVpZ2h0PSIyNTZwdCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJwcmVmaXhfX2EiPjxwYXRoIGQ9Ik0wIDBoMjU2djI1NkgweiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGNsaXAtcGF0aD0idXJsKCNwcmVmaXhfX2EpIj48cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMCAwaDI1NnYyNTZIMHoiLz48ZyBjbGlwLXBhdGg9InVybCgjcHJlZml4X19iKSI+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA1LjU0IDE2Ni43OTQpIiBmb250LWZhbWlseT0ic3lzdGVtLXVpLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LCZxdW90O1NlZ29lIFVJJnF1b3Q7LFJvYm90byxPeHlnZW4sVWJ1bnR1LENhbnRhcmVsbCwmcXVvdDtPcGVuIFNhbnMmcXVvdDssJnF1b3Q7SGVsdmV0aWNhIE5ldWUmcXVvdDssc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjQwMCIgZm9udC1zaXplPSIxMDAiIGZpbGw9IiNmYWZhZmEiPj88L3RleHQ+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0icHJlZml4X19iIj48cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MiA1NC44MzkpIiBkPSJNMCAwaDcydjE0Ni4zMjNIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L2c+PC9zdmc+", items: [] }), await m(), s(2, l = !1) }, $ = () => { s(2, l = !1) }, E = () => { _e.sendMessage("delete", "playlists") }, Z = () => { s(2, l = !0) }; return a.$$.update = () => { a.$$.dirty & 1 && i && b(i) }, [i, c, l, o, t, n, u, m, I, y, k, P, g, G, v, w, T, $, E, Z] } class Cs extends Se { constructor(e) { super(), Ve(this, e, ys, gs, Me, {}) } } export { Cs as default };
