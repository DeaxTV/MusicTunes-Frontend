import { S as Jt, i as Kt, s as Wt, w as Yt, a as p, k as i, q as m, x as jt, c as f, l as u, m as d, r as b, h as o, n, F as De, y as xt, b as fe, I as e, K as G, J as Vt, L as B, f as Gt, t as Xt, z as Zt, a1 as Qe, D as $t, V as el, R as Ce, a2 as wt } from "../../../chunks/index-02d4e276.js"; import { H as tl } from "../../../chunks/Header-0fc5aced.js"; import { O as M, A as ll } from "../../../chunks/window-19724ee6.js"; function Ot(r, a, v) { const s = r.slice(); return s[11] = a[v], s } function Ht(r, a, v) { const s = r.slice(); return s[11] = a[v], s } function Bt(r, a, v) { const s = r.slice(); return s[11] = a[v], s } function Mt(r, a, v) { const s = r.slice(); return s[18] = a[v], s } function Rt(r) { let a, v = r[18] + "", s, c; return { c() { a = i("option"), s = m(v), this.h() }, l(h) { a = u(h, "OPTION", {}); var P = d(a); s = b(P, v), P.forEach(o), this.h() }, h() { a.__value = r[18], a.value = a.__value, a.selected = c = r[0].appearance.Theme === r[18] }, m(h, P) { fe(h, a, P), e(a, s) }, p(h, P) { P & 3 && c !== (c = h[0].appearance.Theme === h[18]) && (a.selected = c) }, d(h) { h && o(a) } } } function Ut(r) { let a, v, s; return { c() { a = i("option"), v = m(r[11]), this.h() }, l(c) { a = u(c, "OPTION", {}); var h = d(a); v = b(h, r[11]), h.forEach(o), this.h() }, h() { a.__value = r[11], a.value = a.__value, a.selected = s = r[0].playback.Quality === r[11] }, m(c, h) { fe(c, a, h), e(a, v) }, p(c, h) { h & 3 && s !== (s = c[0].playback.Quality === c[11]) && (a.selected = s) }, d(c) { c && o(a) } } } function zt(r) { let a, v, s; return { c() { a = i("option"), v = m(r[11]), this.h() }, l(c) { a = u(c, "OPTION", {}); var h = d(a); v = b(h, r[11]), h.forEach(o), this.h() }, h() { a.__value = r[11], a.value = a.__value, a.selected = s = r[0].playback.Stream === r[11] }, m(c, h) { fe(c, a, h), e(a, v) }, p(c, h) { h & 3 && s !== (s = c[0].playback.Stream === c[11]) && (a.selected = s) }, d(c) { c && o(a) } } } function Ft(r) { let a, v, s; return { c() { a = i("option"), v = m(r[11]), this.h() }, l(c) { a = u(c, "OPTION", {}); var h = d(a); v = b(h, r[11]), h.forEach(o), this.h() }, h() { a.__value = r[11], a.value = a.__value, a.selected = s = r[0].playback.Stream === r[11] }, m(c, h) { fe(c, a, h), e(a, v) }, p(c, h) { h & 3 && s !== (s = c[0].playback.Stream === c[11]) && (a.selected = s) }, d(c) { c && o(a) } } } function al(r) {
	let a, v, s, c, h, P, me, Q, H, be, Ee, R, k, X, E, le, Ve, we, C, Oe, ae, He, L, se, Be, Me, V, re, Re, Ue, w, ze, ne, Fe, U, Z, Je, Ke, ce, q, We, z, F, Ye, ye, je, xe, oe, I, Ge, J, ie, Xe, Ze, K, $, $e, et, W, ue, O, ge, tt, ee, lt, at, Y, de, st, rt, j, te, nt, ct, he, T, ke, ot, vt; a = new tl({ props: { title: "Settings", url: "/settings", desc: "Configure your app settings" } }); let ve = r[1], y = []; for (let l = 0; l < ve.length; l += 1)y[l] = Rt(Mt(r, ve, l)); let it = ["Normal", "High"], A = []; for (let l = 0; l < 2; l += 1)A[l] = Ut(Bt(r, it, l)); let ut = ["HTTP", "HLS"], N = []; for (let l = 0; l < 2; l += 1)N[l] = zt(Ht(r, ut, l)); let dt = ["Category", "Query", "Category + Query", "None"], D = []; for (let l = 0; l < 4; l += 1)D[l] = Ft(Ot(r, dt, l)); return {
		c() {
			Yt(a.$$.fragment), v = p(), s = i("main"), c = i("section"), h = i("span"), P = m("Appearance"), me = p(), Q = i("div"), H = i("label"), be = m("Theme"), Ee = p(), R = i("div"), k = i("select"); for (let l = 0; l < y.length; l += 1)y[l].c(); X = p(), E = i("div"), le = i("label"), Ve = m("Immersive Queue"), we = p(), C = i("input"), Oe = p(), ae = i("label"), He = p(), L = i("section"), se = i("span"), Be = m("Playback"), Me = p(), V = i("div"), re = i("label"), Re = m("Dedupe Automix"), Ue = p(), w = i("input"), ze = p(), ne = i("label"), Fe = p(), U = i("div"), Z = i("label"), Je = m("Quality"), Ke = p(), ce = i("div"), q = i("select"); for (let l = 0; l < 2; l += 1)A[l].c(); We = p(), z = i("div"), F = i("label"), Ye = m(`Stream
				`), ye = i("i"), je = m("(reload MusicTunes after setting)"), xe = p(), oe = i("div"), I = i("select"); for (let l = 0; l < 2; l += 1)N[l].c(); Ge = p(), J = i("section"), ie = i("span"), Xe = m("Network"), Ze = p(), K = i("div"), $ = i("label"), $e = m("Audio Proxy Server"), et = p(), W = i("div"), ue = i("div"), O = i("input"), tt = p(), ee = i("span"), lt = m("Reset to default"), at = p(), Y = i("section"), de = i("span"), st = m("Search"), rt = p(), j = i("div"), te = i("label"), nt = m("Preserve"), ct = p(), he = i("div"), T = i("select"); for (let l = 0; l < 4; l += 1)D[l].c(); this.h()
		}, l(l) {
			jt(a.$$.fragment, l), v = f(l), s = u(l, "MAIN", { class: !0 }); var _ = d(s); c = u(_, "SECTION", { class: !0 }); var t = d(c); h = u(t, "SPAN", { class: !0 }); var S = d(h); P = b(S, "Appearance"), S.forEach(o), me = f(t), Q = u(t, "DIV", { class: !0 }); var Se = d(Q); H = u(Se, "LABEL", { for: !0, class: !0 }); var _t = d(H); be = b(_t, "Theme"), _t.forEach(o), Ee = f(Se), R = u(Se, "DIV", { class: !0 }); var pt = d(R); k = u(pt, "SELECT", { name: !0, id: !0 }); var ft = d(k); for (let g = 0; g < y.length; g += 1)y[g].l(ft); ft.forEach(o), pt.forEach(o), Se.forEach(o), X = f(t), E = u(t, "DIV", { class: !0 }); var _e = d(E); le = u(_e, "LABEL", { class: !0 }); var mt = d(le); Ve = b(mt, "Immersive Queue"), mt.forEach(o), we = f(_e), C = u(_e, "INPUT", { type: !0, name: !0, id: !0, class: !0 }), Oe = f(_e), ae = u(_e, "LABEL", { for: !0, class: !0 }), d(ae).forEach(o), _e.forEach(o), t.forEach(o), He = f(_), L = u(_, "SECTION", { class: !0 }); var x = d(L); se = u(x, "SPAN", { class: !0 }); var bt = d(se); Be = b(bt, "Playback"), bt.forEach(o), Me = f(x), V = u(x, "DIV", { class: !0 }); var pe = d(V); re = u(pe, "LABEL", { class: !0 }); var Et = d(re); Re = b(Et, "Dedupe Automix"), Et.forEach(o), Ue = f(pe), w = u(pe, "INPUT", { name: !0, id: !0, type: !0, class: !0 }), ze = f(pe), ne = u(pe, "LABEL", { for: !0, class: !0 }), d(ne).forEach(o), pe.forEach(o), Fe = f(x), U = u(x, "DIV", { class: !0 }); var qe = d(U); Z = u(qe, "LABEL", { for: !0, class: !0 }); var yt = d(Z); Je = b(yt, "Quality"), yt.forEach(o), Ke = f(qe), ce = u(qe, "DIV", { class: !0 }); var gt = d(ce); q = u(gt, "SELECT", { name: !0, id: !0 }); var kt = d(q); for (let g = 0; g < 2; g += 1)A[g].l(kt); kt.forEach(o), gt.forEach(o), qe.forEach(o), We = f(x), z = u(x, "DIV", { class: !0 }); var Ie = d(z); F = u(Ie, "LABEL", { for: !0, class: !0 }); var ht = d(F); Ye = b(ht, `Stream
				`), ye = u(ht, "I", {}); var St = d(ye); je = b(St, "(reload MusicTunes after setting)"), St.forEach(o), ht.forEach(o), xe = f(Ie), oe = u(Ie, "DIV", { class: !0 }); var qt = d(oe); I = u(qt, "SELECT", { name: !0, id: !0 }); var It = d(I); for (let g = 0; g < 2; g += 1)N[g].l(It); It.forEach(o), qt.forEach(o), Ie.forEach(o), x.forEach(o), Ge = f(_), J = u(_, "SECTION", { class: !0 }); var Pe = d(J); ie = u(Pe, "SPAN", { class: !0 }); var Pt = d(ie); Xe = b(Pt, "Network"), Pt.forEach(o), Ze = f(Pe), K = u(Pe, "DIV", { class: !0 }); var Le = d(K); $ = u(Le, "LABEL", { for: !0, class: !0 }); var Lt = d($); $e = b(Lt, "Audio Proxy Server"), Lt.forEach(o), et = f(Le), W = u(Le, "DIV", { class: !0 }); var Te = d(W); ue = u(Te, "DIV", { class: !0 }); var Tt = d(ue); O = u(Tt, "INPUT", { type: !0, pattern: !0, placeholder: !0 }), Tt.forEach(o), tt = f(Te), ee = u(Te, "SPAN", { class: !0 }); var At = d(ee); lt = b(At, "Reset to default"), At.forEach(o), Te.forEach(o), Le.forEach(o), Pe.forEach(o), at = f(_), Y = u(_, "SECTION", { class: !0 }); var Ae = d(Y); de = u(Ae, "SPAN", { class: !0 }); var Nt = d(de); st = b(Nt, "Search"), Nt.forEach(o), rt = f(Ae), j = u(Ae, "DIV", { class: !0 }); var Ne = d(j); te = u(Ne, "LABEL", { for: !0, class: !0 }); var Dt = d(te); nt = b(Dt, "Preserve"), Dt.forEach(o), ct = f(Ne), he = u(Ne, "DIV", { class: !0 }); var Qt = d(he); T = u(Qt, "SELECT", { name: !0, id: !0 }); var Ct = d(T); for (let g = 0; g < 4; g += 1)D[g].l(Ct); Ct.forEach(o), Qt.forEach(o), Ne.forEach(o), Ae.forEach(o), _.forEach(o), this.h()
		}, h() { n(h, "class", "h5"), n(H, "for", "theme"), n(H, "class", "svelte-12dx92q"), n(k, "name", "theme"), n(k, "id", "theme"), r[0].appearance.Theme === void 0 && De(() => r[3].call(k)), n(R, "class", "select svelte-12dx92q"), n(Q, "class", "setting svelte-12dx92q"), n(le, "class", "svelte-12dx92q"), n(C, "type", "checkbox"), n(C, "name", "immersive-queue"), n(C, "id", "immersive-queue"), n(C, "class", "svelte-12dx92q"), n(ae, "for", "immersive-queue"), n(ae, "class", "switch svelte-12dx92q"), n(E, "class", "setting svelte-12dx92q"), n(c, "class", "svelte-12dx92q"), n(se, "class", "h5"), n(re, "class", "svelte-12dx92q"), n(w, "name", "dedupe"), n(w, "id", "dedupe"), n(w, "type", "checkbox"), n(w, "class", "svelte-12dx92q"), n(ne, "for", "dedupe"), n(ne, "class", "switch svelte-12dx92q"), n(V, "class", "setting svelte-12dx92q"), n(Z, "for", "quality"), n(Z, "class", "svelte-12dx92q"), n(q, "name", "quality"), q.disabled = !0, n(q, "id", "quality"), r[0].playback.Quality === void 0 && De(() => r[6].call(q)), n(ce, "class", "select svelte-12dx92q"), n(U, "class", "setting svelte-12dx92q"), n(F, "for", "stream"), n(F, "class", "svelte-12dx92q"), n(I, "name", "stream"), n(I, "id", "stream"), r[0].playback.Stream === void 0 && De(() => r[7].call(I)), n(oe, "class", "select svelte-12dx92q"), n(z, "class", "setting svelte-12dx92q"), n(L, "class", "svelte-12dx92q"), n(ie, "class", "h5"), n($, "for", "proxy"), n($, "class", "svelte-12dx92q"), n(O, "type", "url"), n(O, "pattern", "http://.*"), n(O, "placeholder", "https://yt-hls-rewriter.onrender.com/"), O.value = ge = r[0].network["HLS Stream Proxy"], n(ue, "class", "input no-btn mb-1"), n(ee, "class", "link"), n(W, "class", "input-container svelte-12dx92q"), n(K, "class", "setting svelte-12dx92q"), n(J, "class", "svelte-12dx92q"), n(de, "class", "h5"), n(te, "for", "preserve"), n(te, "class", "svelte-12dx92q"), n(T, "name", "preserve"), n(T, "id", "preserve"), r[0].search.Preserve === void 0 && De(() => r[10].call(T)), n(he, "class", "select svelte-12dx92q"), n(j, "class", "setting svelte-12dx92q"), n(Y, "class", "svelte-12dx92q"), n(s, "class", "resp-content-width") }, m(l, _) { xt(a, l, _), fe(l, v, _), fe(l, s, _), e(s, c), e(c, h), e(h, P), e(c, me), e(c, Q), e(Q, H), e(H, be), e(Q, Ee), e(Q, R), e(R, k); for (let t = 0; t < y.length; t += 1)y[t].m(k, null); G(k, r[0].appearance.Theme), e(c, X), e(c, E), e(E, le), e(le, Ve), e(E, we), e(E, C), C.checked = r[0].appearance["Immersive Queue"], e(E, Oe), e(E, ae), e(s, He), e(s, L), e(L, se), e(se, Be), e(L, Me), e(L, V), e(V, re), e(re, Re), e(V, Ue), e(V, w), Vt(w, r[0].playback["Dedupe Automix"]), e(V, ze), e(V, ne), e(L, Fe), e(L, U), e(U, Z), e(Z, Je), e(U, Ke), e(U, ce), e(ce, q); for (let t = 0; t < 2; t += 1)A[t].m(q, null); G(q, r[0].playback.Quality), e(L, We), e(L, z), e(z, F), e(F, Ye), e(F, ye), e(ye, je), e(z, xe), e(z, oe), e(oe, I); for (let t = 0; t < 2; t += 1)N[t].m(I, null); G(I, r[0].playback.Stream), e(s, Ge), e(s, J), e(J, ie), e(ie, Xe), e(J, Ze), e(J, K), e(K, $), e($, $e), e(K, et), e(K, W), e(W, ue), e(ue, O), e(W, tt), e(W, ee), e(ee, lt), e(s, at), e(s, Y), e(Y, de), e(de, st), e(Y, rt), e(Y, j), e(j, te), e(te, nt), e(j, ct), e(j, he), e(he, T); for (let t = 0; t < 4; t += 1)D[t].m(T, null); G(T, r[0].search.Preserve), ke = !0, ot || (vt = [B(k, "change", r[3]), B(C, "change", r[4]), B(w, "change", r[5]), B(q, "change", r[6]), B(I, "change", r[7]), B(I, "change", r[2]), B(O, "input", r[8]), B(ee, "click", r[9]), B(T, "change", r[10])], ot = !0) }, p(l, [_]) { if (_ & 3) { ve = l[1]; let t; for (t = 0; t < ve.length; t += 1) { const S = Mt(l, ve, t); y[t] ? y[t].p(S, _) : (y[t] = Rt(S), y[t].c(), y[t].m(k, null)) } for (; t < y.length; t += 1)y[t].d(1); y.length = ve.length } if (_ & 3 && G(k, l[0].appearance.Theme), _ & 3 && (C.checked = l[0].appearance["Immersive Queue"]), _ & 3 && Vt(w, l[0].playback["Dedupe Automix"]), _ & 1) { it = ["Normal", "High"]; let t; for (t = 0; t < 2; t += 1) { const S = Bt(l, it, t); A[t] ? A[t].p(S, _) : (A[t] = Ut(S), A[t].c(), A[t].m(q, null)) } for (; t < 2; t += 1)A[t].d(1) } if (_ & 3 && G(q, l[0].playback.Quality), _ & 1) { ut = ["HTTP", "HLS"]; let t; for (t = 0; t < 2; t += 1) { const S = Ht(l, ut, t); N[t] ? N[t].p(S, _) : (N[t] = zt(S), N[t].c(), N[t].m(I, null)) } for (; t < 2; t += 1)N[t].d(1) } if (_ & 3 && G(I, l[0].playback.Stream), (!ke || _ & 3 && ge !== (ge = l[0].network["HLS Stream Proxy"]) && O.value !== ge) && (O.value = ge), _ & 1) { dt = ["Category", "Query", "Category + Query", "None"]; let t; for (t = 0; t < 4; t += 1) { const S = Ot(l, dt, t); D[t] ? D[t].p(S, _) : (D[t] = Ft(S), D[t].c(), D[t].m(T, null)) } for (; t < 4; t += 1)D[t].d(1) } _ & 3 && G(T, l[0].search.Preserve) }, i(l) { ke || (Gt(a.$$.fragment, l), ke = !0) }, o(l) { Xt(a.$$.fragment, l), ke = !1 }, d(l) { Zt(a, l), l && o(v), l && o(s), Qe(y, l), Qe(A, l), Qe(N, l), Qe(D, l), ot = !1, $t(vt) }
	}
} function sl(r, a, v) { let s; el(r, M, X => v(0, s = X)); const c = ["Dark", "Dim", "Midnight", "YTM"]; function h() { console.log("settings"), ll.dispatch("update:stream_type", { type: s.playback.Stream }) } function P() { s.appearance.Theme = Ce(this), M.set(s), v(1, c) } function me() { s.appearance["Immersive Queue"] = this.checked, M.set(s), v(1, c) } function Q() { s.playback["Dedupe Automix"] = this.value, M.set(s), v(1, c) } function H() { s.playback.Quality = Ce(this), M.set(s), v(1, c) } function be() { s.playback.Stream = Ce(this), M.set(s), v(1, c) } const Ee = X => { let E = X.currentTarget.value; E.endsWith("/") || (E = E + "/"), E.match(/^https?:\/\//i) && wt(M, s.network["HLS Stream Proxy"] = E, s) }, R = () => { wt(M, s.network["HLS Stream Proxy"] = "https://yt-hls-rewriter.onrender.com/", s) }; function k() { s.search.Preserve = Ce(this), M.set(s), v(1, c) } return [s, c, h, P, me, Q, H, be, Ee, R, k] } class ol extends Jt { constructor(a) { super(), Kt(this, a, sl, al, Wt, {}) } } export { ol as default };
