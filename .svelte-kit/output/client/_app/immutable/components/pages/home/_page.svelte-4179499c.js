import{S as Y,i as Z,s as x,e as S,a as U,w as B,k as v,as as ee,h as _,c as V,x as H,l as b,m as O,n as g,p as A,I as j,b as k,y as M,f as E,d as N,t as L,z as P,a1 as W,$ as te,U as le,L as re,D as se,g as z,B as T}from"../../../chunks/index-02d4e276.js";import{v as ie}from"../../../chunks/viewport-7af7a1d2.js";import{C as ae}from"../../../chunks/Carousel-31cb6f4a.js";import{H as ne}from"../../../chunks/Header-0fc5aced.js";import{L as oe}from"../../../chunks/Loading-becb9104.js";function G(i,e,t){const r=i.slice();return r[9]=e[t],r}function K(i,e,t){const r=i.slice();return r[12]=e[t],r[14]=t,r}function ce(i){let e;return{c(){e=v("link"),this.h()},l(t){e=b(t,"LINK",{rel:!0,as:!0,href:!0}),this.h()},h(){g(e,"rel","preload"),g(e,"as","image"),g(e,"href",i[4][0].url)},m(t,r){k(t,e,r)},p:T,d(t){t&&_(e)}}}function fe(i){let e,t,r,a,o=i[4],s=[];for(let c=0;c<o.length;c+=1)s[c]=F(K(i,o,c));return{c(){e=v("picture");for(let c=0;c<s.length;c+=1)s[c].c();t=U(),r=v("img"),this.h()},l(c){e=b(c,"PICTURE",{});var f=O(e);for(let n=0;n<s.length;n+=1)s[n].l(f);t=V(f),r=b(f,"IMG",{src:!0,width:!0,height:!0,decoding:!0,class:!0,alt:!0}),f.forEach(_),this.h()},h(){te(r.src,a=i[4][0].url)||g(r,"src",a),g(r,"width",i[4][0].width),g(r,"height",i[4][0].height),g(r,"decoding","async"),g(r,"class","immer-img svelte-13s2r8r"),g(r,"alt","large background header")},m(c,f){k(c,e,f);for(let n=0;n<s.length;n+=1)s[n].m(e,null);j(e,t),j(e,r)},p(c,f){if(f&16){o=c[4];let n;for(n=0;n<o.length;n+=1){const d=K(c,o,n);s[n]?s[n].p(d,f):(s[n]=F(d),s[n].c(),s[n].m(e,t))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},d(c){c&&_(e),W(s,c)}}}function ue(i){let e;return{c(){e=v("source"),this.h()},l(t){e=b(t,"SOURCE",{media:!0,srcset:!0}),this.h()},h(){var t;g(e,"media",`(min-width: ${i[4][i[14]-1].width+1}px) and (max-width: ${(t=i[12])==null?void 0:t.width}px)`),g(e,"srcset",i[12].url)},m(t,r){k(t,e,r)},p:T,d(t){t&&_(e)}}}function he(i){let e;return{c(){e=v("source"),this.h()},l(t){e=b(t,"SOURCE",{media:!0,srcset:!0}),this.h()},h(){var t;g(e,"media",`(max-width: ${(t=i[12])==null?void 0:t.width}px)`),g(e,"srcset",i[12].url)},m(t,r){k(t,e,r)},p:T,d(t){t&&_(e)}}}function F(i){let e;function t(o,s){return o[14]===0?he:ue}let a=t(i)(i);return{c(){a.c(),e=S()},l(o){a.l(o),e=S()},m(o,s){a.m(o,s),k(o,e,s)},p(o,s){a.p(o,s)},d(o){a.d(o),o&&_(e)}}}function J(i){var r;let e,t;return e=new ae({props:{items:i[9].items,header:i[9].header,type:"home",kind:(r=i[9].header)==null?void 0:r.type,isBrowseEndpoint:!1}}),{c(){B(e.$$.fragment)},l(a){H(e.$$.fragment,a)},m(a,o){M(e,a,o),t=!0},p(a,o){var c;const s={};o&1&&(s.items=a[9].items),o&1&&(s.header=a[9].header),o&1&&(s.kind=(c=a[9].header)==null?void 0:c.type),e.$set(s)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){L(e.$$.fragment,a),t=!1},d(a){P(e,a)}}}function Q(i){let e,t,r,a,o,s,c;return a=new oe({}),{c(){e=v("div"),t=U(),r=v("div"),B(a.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0}),O(e).forEach(_),t=V(f),r=b(f,"DIV",{class:!0});var n=O(r);H(a.$$.fragment,n),n.forEach(_),this.h()},h(){g(e,"class","viewport svelte-13s2r8r"),g(r,"class","loading svelte-13s2r8r"),A(r,"opacity",i[2]?1:0)},m(f,n){k(f,e,n),k(f,t,n),k(f,r,n),M(a,r,null),o=!0,s||(c=[le(ie.call(null,e,{margin:"100px"})),re(e,"enterViewport",i[8])],s=!0)},p(f,n){n&4&&A(r,"opacity",f[2]?1:0)},i(f){o||(E(a.$$.fragment,f),o=!0)},o(f){L(a.$$.fragment,f),o=!1},d(f){f&&_(e),f&&_(t),f&&_(r),P(a),s=!1,se(c)}}}function me(i){let e=Array.isArray(i[4])&&i[4].length!==0?i[4][0].url:"",t,r,a,o,s,c,f,n,d,R,I=Object.keys(i[1]).length,w,$=e&&ce(i);a=new ne({props:{title:"Home",url:i[6],desc:"Listen to the hottest tracks from your favorite artists, and discover new playlists and mixes."}});let y=i[4].length!==0&&fe(i),C=i[0],m=[];for(let l=0;l<C.length;l+=1)m[l]=J(G(i,C,l));const X=l=>L(m[l],1,1,()=>{m[l]=null});let p=I&&Q(i);return{c(){$&&$.c(),t=S(),r=U(),B(a.$$.fragment),o=U(),s=v("div"),c=v("div"),f=U(),y&&y.c(),n=U(),d=v("main");for(let l=0;l<m.length;l+=1)m[l].c();R=U(),p&&p.c(),this.h()},l(l){const u=ee("svelte-10xr24i",document.head);$&&$.l(u),t=S(),u.forEach(_),r=V(l),H(a.$$.fragment,l),o=V(l),s=b(l,"DIV",{class:!0});var h=O(s);c=b(h,"DIV",{class:!0,style:!0}),O(c).forEach(_),f=V(h),y&&y.l(h),h.forEach(_),n=V(l),d=b(l,"MAIN",{"data-testid":!0,class:!0});var D=O(d);for(let q=0;q<m.length;q+=1)m[q].l(D);R=V(D),p&&p.l(D),D.forEach(_),this.h()},h(){g(c,"class","gradient svelte-13s2r8r"),A(c,"--theme","var(--base-bg)"),g(s,"class","immersive-thumbnail svelte-13s2r8r"),g(d,"data-testid","home"),g(d,"class","svelte-13s2r8r")},m(l,u){$&&$.m(document.head,null),j(document.head,t),k(l,r,u),M(a,l,u),k(l,o,u),k(l,s,u),j(s,c),j(s,f),y&&y.m(s,null),k(l,n,u),k(l,d,u);for(let h=0;h<m.length;h+=1)m[h].m(d,null);j(d,R),p&&p.m(d,null),w=!0},p(l,[u]){if(e&&$.p(l,u),l[4].length!==0&&y.p(l,u),u&1){C=l[0];let h;for(h=0;h<C.length;h+=1){const D=G(l,C,h);m[h]?(m[h].p(D,u),E(m[h],1)):(m[h]=J(D),m[h].c(),E(m[h],1),m[h].m(d,R))}for(z(),h=C.length;h<m.length;h+=1)X(h);N()}u&2&&(I=Object.keys(l[1]).length),I?p?(p.p(l,u),u&2&&E(p,1)):(p=Q(l),p.c(),E(p,1),p.m(d,null)):p&&(z(),L(p,1,1,()=>{p=null}),N())},i(l){if(!w){E(a.$$.fragment,l);for(let u=0;u<C.length;u+=1)E(m[u]);E(p),w=!0}},o(l){L(a.$$.fragment,l),m=m.filter(Boolean);for(let u=0;u<m.length;u+=1)L(m[u]);L(p),w=!1},d(l){$&&$.d(l),_(t),l&&_(r),P(a,l),l&&_(o),l&&_(s),y&&y.d(),l&&_(n),l&&_(d),W(m,l),p&&p.d()}}}function _e(i,e,t){let{data:r}=e,{carousels:a,headerThumbnail:o,continuations:s,visitorData:c,path:f}=r,n=!1,d=!1;const R=async()=>{if(n||d)return;t(2,n=!0);const w=await(await fetch(`/home.json?itct=${encodeURIComponent(s.clickTrackingParams)}&ctoken=${encodeURIComponent(s.continuation)}&type=next&visitorData=${c}`)).json();return w.continuations?(t(1,s=w.continuations),queueMicrotask(()=>{t(0,a=[...a,...w.carousels])}),t(2,n=!1),d):(t(3,d=w.continuations===void 0),!n)};return i.$$set=I=>{"data"in I&&t(7,r=I.data)},[a,s,n,d,o,c,f,r,R]}class be extends Y{constructor(e){super(),Z(this,e,_e,me,x,{data:7})}}export{be as default};
