import{c as T,a as c,o as _,y as k,t as S,h as a,j as l,k as y,v as P}from"./index.js";/* empty css                                     */import{d as L,h as R,n as r,l as f,s as $,C as p,F as I}from"./utils.js";import{g as u,P as E}from"./PopperButton.js";/* empty css                                  */import{S as G}from"./url.js";const N={code:'.menu.svelte-17q0dj9.svelte-17q0dj9{padding-right:.6em}.hidden.svelte-17q0dj9.svelte-17q0dj9{display:none!important;visibility:hidden!important}.artist-stats.svelte-17q0dj9.svelte-17q0dj9{align-items:center;display:inline-flex;font-size:.9em;font-weight:400;pointer-events:auto}.itemWrapper.svelte-17q0dj9.svelte-17q0dj9{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;margin:0;padding:.3em .3em .3em .6em;width:100%}p.svelte-17q0dj9.svelte-17q0dj9{margin:.2rem 0}.container.svelte-17q0dj9.svelte-17q0dj9:not(.menu){background:transparent;contain:paint;cursor:pointer;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;max-width:unset!important;transition:background .125s cubic-bezier(.25,.46,.45,.94);width:100%}.container.svelte-17q0dj9.svelte-17q0dj9:not(.menu):active,.container.svelte-17q0dj9.svelte-17q0dj9:not(.menu):hover{background:rgba(67,68,73,.349)}.text-artist.svelte-17q0dj9.svelte-17q0dj9{--line-height:1.4;-webkit-line-clamp:2;-webkit-box-orient:vertical;--lines:2;--max-lines:var(--lines);-webkit-line-clamp:var(--max-lines);display:-webkit-box;font-size:.925em;margin-top:0;max-height:2rem;max-height:calc(var(--max-lines)*1rem*var(--line-height));overflow:hidden}.text-title.svelte-17q0dj9.svelte-17q0dj9{display:block;font-size:1em;font-weight:400;max-width:calc(100% - 2ch)!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-title.svelte-17q0dj9.svelte-17q0dj9:hover{cursor:pointer;-webkit-text-decoration:underline solid currentColor .0714rem;text-decoration:underline solid currentColor .0714rem}img.svelte-17q0dj9.svelte-17q0dj9{height:auto;width:auto}img.svelte-17q0dj9.svelte-17q0dj9:before{content:"";display:block;padding-top:66.6666666667%}.innercard.svelte-17q0dj9.svelte-17q0dj9{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;padding:.4rem 0;position:relative;width:100%}@media screen and (min-width:640px){.innercard.svelte-17q0dj9.svelte-17q0dj9{padding:.2rem 0}}.title.svelte-17q0dj9.svelte-17q0dj9{align-self:center;display:inline-flex;flex-direction:column;font-size:100%;margin-left:1rem;width:50vmin}.img-container.svelte-17q0dj9.svelte-17q0dj9{border-radius:.5263157895em;display:block;height:5rem;max-width:5rem;min-width:5rem;position:relative;width:100%}.img-container.svelte-17q0dj9 .thumbnail.svelte-17q0dj9{background:rgba(13,13,15,.192);border-radius:inherit;height:100%;width:100%}.img-container.svelte-17q0dj9 .thumbnail img.svelte-17q0dj9{border-radius:inherit;height:100%;-o-object-fit:contain;object-fit:contain;width:100%}.artist-img.svelte-17q0dj9.svelte-17q0dj9{border-radius:99999em}a.svelte-17q0dj9.svelte-17q0dj9{color:inherit}@media(min-width:640px){.container.svelte-17q0dj9.svelte-17q0dj9:active:not(.menu){background:rgba(99,102,113,.349)}}',map:null},z=/=w\d+-h\d+-/gm,W=T((v,m,h,D)=>{let b,q,n,g,o,j;q=c(G,t=>b=t),g=c(L,t=>n=t),j=c(R,t=>o=t);let{data:e}=m;_();let w=!!k("library"),d=Array.isArray(e?.subtitle)&&e.subtitle[0]?.text==="Artist",i=[{text:"View Artist",icon:"artist",action:async()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),await S(),u(`/artist/${e?.subtitle.find(t=>t?.pageType?.includes("ARTIST"))?.browseId??e.artistInfo.artist[0].browseId}`)}},{text:"Go to Album",icon:"album",action:()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),u(`/release?id=${e?.album?.browseId}`)}},{text:"Play Next",icon:"queue",action:()=>r.hasActiveSession?r.addToQueue(e,o):f.setTrackWillPlayNext(e,o)},{text:"Add to Queue",icon:"queue",action:()=>r.hasActiveSession?r.addToQueue(e,n.length):f.setTrackWillPlayNext(e,n.length)},{text:"Add to Playlist",icon:"list-plus",action:async()=>{if(e?.endpoint?.pageType.match(/PLAYLIST|ALBUM|SINGLE/)){const A=await(await fetch("/api/v1/get_queue.json?playlistId="+e?.playlistId)).json();$.set({state:!0,item:[...A]})}else $.set({state:!0,item:e})}},{text:w?"Remove From Favorites":"Favorite",icon:w?"x":"heart",action:async()=>{}},r.hasActiveSession?{text:"Invite Group Session",icon:"send",action:async()=>{}}:{text:"Start Group Session",icon:"users",action:async()=>{}},{text:"Share",icon:"share",action:async()=>{const t={title:e.title,url:`${b}/listen?id=${e.videoId}`};try{navigator.canShare?(await navigator.share(t),p("Shared successfully","success")):(await navigator.clipboard.writeText(t.url),p("Link copied successfully","success"))}catch(x){p("Error: "+x,"error")}}}];d&&(i=i.filter(t=>!t.text?.includes("Add to Playlist"))),e.type?.includes("playlist")&&(i.splice(1,1,{text:"View Playlist",icon:"list",action:()=>{window.scrollTo({behavior:"smooth",top:0,left:0}),u(`/playlist/${e?.endpoint?.browseId}`)}}),i.shift(),i.pop(),i=i.filter(t=>!t.text.includes("Favorite"))),e.type==="videos"&&(i=i.filter(t=>{t.text})),e?.album?.browseId===void 0&&(i=I(i,t=>t.text!=="Go to Album")),d&&(i=I(i,t=>t.text!=="View Artist"));let s=Array.isArray(e?.thumbnails)?e?.thumbnails.at(0):{width:0,height:0,url:"",placeholder:""};return m.data===void 0&&h.data&&e!==void 0&&h.data(e),v.css.add(N),s.url=s.width<100?s.url.replace(z,"=w240-h240-"):s.url,q(),g(),j(),`





<div class="container svelte-17q0dj9"><div class="innercard svelte-17q0dj9"><div class="itemWrapper svelte-17q0dj9"><div class="${["img-container svelte-17q0dj9",d?"artist-img":""].join(" ").trim()}">
				<div class="thumbnail svelte-17q0dj9"><img alt="thumbnail"${a("loading","lazy",0)}${a("width",s.width,0)}${a("height",s.height,0)}${a("src",s.url,0)} class="svelte-17q0dj9"></div></div>
			<div class="title svelte-17q0dj9"><p class="text-title svelte-17q0dj9">${l(e.title)}
					<span class="${["explicit svelte-17q0dj9",e.explicit?"":"hidden"].join(" ").trim()}"><span class="sr-only">Explicit</span></span></p>
				${e.type==="artists"?`<p class="artist-stats svelte-17q0dj9">${y(e.subtitle,t=>`${l(t.text)}`)}</p>`:`${e.type==="playlist"?`<p class="text-artist svelte-17q0dj9">${l(e.type==="playlist"&&"metaData"in e?`${e.metaData}`:"")}</p>`:`<p class="text-artist secondary svelte-17q0dj9">${y(e?.subtitle,t=>`${t.pageType?`${t.pageType.includes("ALBUM")?`<a${a("href",`/release?id=${t?.browseId}`,0)} class="svelte-17q0dj9">${l(t.text)}</a>`:`<a${a("href",`/artist/${t?.browseId}`,0)} class="svelte-17q0dj9">${l(t.text)}</a>`}`:`${l(t.text)}`}`)}</p>`}`}</div></div>

		<div class="menu svelte-17q0dj9">${P(E,"PopperButton").$$render(v,{metadata:{artist:e.type!=="playlist"&&Array.isArray(e?.subtitle)&&[e.subtitle.find(t=>t?.pageType?.includes("ARTIST"))??e.artistInfo?.artist[0]],thumbnail:e.thumbnails,title:e.title,length:e.type!=="artist"&&e.type!=="playlist"?e?.length?.text:""},type:"search",items:i},{},{})}</div></div>
</div>`});export{W as L};
