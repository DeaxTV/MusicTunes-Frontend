import{j as g}from"../../../../../chunks/index2.js";import{M as R}from"../../../../../chunks/musicResponsiveListItemRenderer.js";import{M as a}from"../../../../../chunks/musicTwoRowItemRenderer.js";import"../../../../../chunks/index.js";import"../../../../../chunks/utils.js";import{M as b}from"../../../../../chunks/parsers.js";const L=async({params:n})=>{const{slug:s}=n,d=await(await fetch("https://music.youtube.com/youtubei/v1/browse?key=AIzaSyC9XL3ZjWddXya6X74dJoCTL-WEYFDNX30&prettyPrint=false",{method:"POST",keepalive:!0,body:JSON.stringify({context:{client:{clientName:"WEB_REMIX",clientVersion:"0.1"},user:{lockedSafetyMode:!1}},browseId:`${s}`}),headers:{"Content-Type":"application/json; charset=utf-8",Origin:"https://music.youtube.com"}})).json();let{header:{musicHeaderRenderer:{title:{runs:[{text:c=""}={}]=[]}={}}={}}={},contents:{singleColumnBrowseResultsRenderer:{tabs:[{tabRenderer:{content:{sectionListRenderer:{contents:o=[]}={}}={}}={}}={}]=[]}={}}={}}=await d;s.includes("videos");let u=[],l=[],i=[];for(let e=0;e<o.length;e++){const t=o[e];t?.musicCarouselShelfRenderer&&u.push(t),t?.gridRenderer&&l.push(t)}if(u.length!==0)for(let e=0;e<o.length;e++){const t=o[e];t?.musicCarouselShelfRenderer&&i.push(I(t))}if(l.length!==0)for(let e=-1;++e<o.length;){const{gridRenderer:t={}}=o[e],p=t.items,m=t.header,f=p.map(h=>a(h));i.push({section:f,type:"grid",title:m?.gridHeaderRenderer?.title?.runs[0]?.text})}return g({title:(()=>{const e=s.split("_");for(let t=0;t<e.length;t++)e[t]=e[t][0].toUpperCase()+e[t].substr(1);return e.join(" "),e.shift(),e.join(" ")})(),sections:i,header:c,data:d})};function w({musicCarouselShelfBasicHeaderRenderer:n}){if(n){let s,r;return n?.strapline?.runs[0]?.text&&(s=n.strapline.runs[0].text),n?.moreContentButton?.buttonRenderer?.navigationEndpoint?.browseEndpoint?.browseId&&(r=n?.moreContentButton?.buttonRenderer?.navigationEndpoint?.browseEndpoint?.browseId),{title:n.title.runs[0].text,subheading:s,browseId:r}}}function y(n=[]){return n.map(r=>{if("musicTwoRowItemRenderer"in r)return a(r);if("musicResponsiveListItemRenderer"in r)return R(r);if("musicNavigationButtonRenderer"in r)return b(r)})}function I(n){return{header:w(n.musicCarouselShelfRenderer?.header??n.musicImmersiveCarouselShelfRenderer?.header),type:"carousel",results:y(n.musicCarouselShelfRenderer?.contents??n.musicImmersiveCarouselShelfRenderer?.contents)}}export{L as GET};
