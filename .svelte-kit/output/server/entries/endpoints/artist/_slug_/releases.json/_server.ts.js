import{j as T}from"../../../../../chunks/index2.js";import{M as S}from"../../../../../chunks/musicTwoRowItemRenderer.js";import{i as I}from"../../../../../chunks/utils.js";import"../../../../../chunks/index.js";const E=async({url:c,params:s})=>{const t=c.searchParams,u=t.get("params"),m=t.get("itct")||"",o=t.get("visitorData"),l={context:{client:{hl:"en",gl:"US",deviceMake:"",deviceModel:"",visitorData:encodeURIComponent(o),userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36 Edg/100.0.1185.36",clientName:"WEB_REMIX",clientVersion:"1.20220328.01.00",osName:"Windows",osVersion:"10.0",platform:"DESKTOP",clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_DARK",timeZone:"America/New_York",browserName:"Edge Chromium",browserVersion:"100.0.4896.36",screenWidthPoints:1920,screenHeightPoints:961,screenPixelDensity:1,screenDensityFloat:1,utcOffsetMinutes:-new Date().getTimezoneOffset(),musicAppInfo:{pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_CAN_BE_INSTALLED",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",storeDigitalGoodsApiSupportStatus:{playStoreDigitalGoodsApiSupportStatus:"DIGITAL_GOODS_API_SUPPORT_STATUS_UNSUPPORTED"},musicActivityMasterSwitch:"MUSIC_ACTIVITY_MASTER_SWITCH_INDETERMINATE",musicLocationMasterSwitch:"MUSIC_LOCATION_MASTER_SWITCH_INDETERMINATE"}},user:{lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[{key:"force_music_enable_outertube_tastebuilder_browse",value:"true"},{key:"force_music_enable_outertube_playlist_detail_browse",value:"true"},{key:"force_music_enable_outertube_search_suggestions",value:"true"}],consistencyTokenJars:[]},clickTracking:{clickTrackingParams:decodeURIComponent(m)}},browseId:s.slug,params:encodeURIComponent(u)},e=await fetch("https://music.youtube.com/youtubei/v1/browse?key=AIzaSyC9XL3ZjWddXya6X74dJoCTL-WEYFDNX30&prettyPrint=false",{headers:{Host:"music.youtube.com","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.75 Safari/537.36 Edg/100.0.1185.36","Content-Type":"application/json","x-origin":"https://music.youtube.com","x-goog-visitor-id":encodeURIComponent(o),referer:"https://music.youtube.com/"+s.slug,Origin:"https://music.youtube.com"},body:JSON.stringify(l),method:"POST"}),r=await e.json(),d=r?.header,_=r?.contents;if(!e.ok)return new Response(e.statusText,{status:e.status});const i=_?.singleColumnBrowseResultsRenderer?.tabs[0]?.tabRenderer?.content?.sectionListRenderer?.contents[0]?.gridRenderer,n=[];I(i?.items,a=>{a?.musicTwoRowItemRenderer&&n.push(S(a))});const p={artist:d?.musicHeaderRenderer?.title?.runs[0]?.text,type:i?.header?.gridHeaderRenderer?.title.runs[0].text};return T({header:p,contents:n})};export{E as GET};
